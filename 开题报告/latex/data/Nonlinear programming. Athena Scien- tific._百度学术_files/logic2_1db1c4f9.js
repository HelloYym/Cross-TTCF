jQuery&&jQuery.extend({stringify:function stringify(b){if("JSON" in window){return JSON.stringify(b)}var j=typeof(b);if(j!="object"||b===null){if(j=="string"){b='"'+b+'"'}return String(b)}else{var c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function f(l){if(/["\\\x00-\x1f]/.test(l)){l=l.replace(/["\\\x00-\x1f]/g,function(m){var n=c[m];if(n){return n}n=m.charCodeAt();return"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16)})}return'"'+l+'"'}function a(r){var n=["["],o=r.length,m,p,q;for(p=0;p<o;p++){q=r[p];switch(typeof q){case"undefined":case"function":case"unknown":break;default:if(m){n.push(",")}n.push($.stringify(q));m=1}}n.push("]");return n.join("")}switch(typeof b){case"undefined":return"undefined";case"number":return isFinite(b)?String(b):"null";case"string":return f(b);case"boolean":return String(b);default:if(b===null){return"null"}else{if(b instanceof Array){return a(b)}else{var k=["{"],e=$.stringify,d,h;for(var g in b){if(Object.prototype.hasOwnProperty.call(b,g)){h=b[g];
switch(typeof h){case"undefined":case"unknown":case"function":break;default:if(d){k.push(",")}d=1;k.push(e(g)+":"+e(h))}}}k.push("}");return k.join("")}}}}},format:function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c},subByte:function(h,b,e){var d=[],g=h.split("");e=e||"…";for(var f=0,c=g.length;f<c;f++){if(g[f].charCodeAt(0)>255){d.push("*")}d.push(g[f])}if(b&&b>0&&d.length>b){g=d.join("").substring(0,b-1).replace(/\*/g,"")+e}else{return h}return g},getByteLength:function(f){var c=[],e=f.split("");for(var d=0,b=e.length;d<b;d++){if(e[d].charCodeAt(0)>255){c.push("*")}c.push(e[d])}return c.length},_isValidKey:function(a){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+\x24')).test(a)
},setCookie:function(c,d,b){d=encodeURIComponent(d);if(!jQuery._isValidKey(c)){return}b=b||{};var a=b.expires;if("number"==typeof b.expires){a=new Date();a.setTime(a.getTime()+b.expires)}document.cookie=c+"="+d+(b.path?"; path="+b.path:"")+(a?"; expires="+a.toGMTString():"")+(b.domain?"; domain="+b.domain:"")+(b.secure?"; secure":"")},getCookie:function(b){var d="";if(jQuery._isValidKey(b)){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)"),a=c.exec(document.cookie);if(a){d=a[2]||null;if("string"==typeof d){d=decodeURIComponent(d);return d}}}return null},removeCookie:function(b,a){a=a||{};a.expires=new Date(0);jQuery.setCookie(b,"",a)}});if(typeof JSON!=="object"){JSON={}}(function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap,indent,meta,rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);
case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;
gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")
}}}());bds.se.heightControl=(function(){var b=$("#content_right"),d=$("#content_left"),a=function(){return b.height()>d.height()},f=function(){var j=$("#head_wr").outerHeight(),h=$("#foot").outerHeight(),l=$(window).height(),g=l-h-j,k=b.outerHeight();g=Math.max(g,k);if((g)>d.height()){d.css({"min-height":g,_height:g,_overflow:"visible"})}},c=function(){var g=$("#content_right").find(".result-op");if(a()){$(g).css("display","none")}else{$(g).css("display","block")}},e=function(){f();var h=navigator.userAgent,j=/MSIE (\d+).*/,g=h.match(j);if(g&&parseInt(g[1])<=6){c()}};return{init:e}})();bds.se.heightControl.init();jQuery&&jQuery.extend({stringify:function stringify(b){if("JSON" in window){return JSON.stringify(b)}var j=typeof(b);if(j!="object"||b===null){if(j=="string"){b='"'+b+'"'}return String(b)}else{var c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function f(l){if(/["\\\x00-\x1f]/.test(l)){l=l.replace(/["\\\x00-\x1f]/g,function(m){var n=c[m];if(n){return n
}n=m.charCodeAt();return"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16)})}return'"'+l+'"'}function a(r){var n=["["],o=r.length,m,p,q;for(p=0;p<o;p++){q=r[p];switch(typeof q){case"undefined":case"function":case"unknown":break;default:if(m){n.push(",")}n.push($.stringify(q));m=1}}n.push("]");return n.join("")}switch(typeof b){case"undefined":return"undefined";case"number":return isFinite(b)?String(b):"null";case"string":return f(b);case"boolean":return String(b);default:if(b===null){return"null"}else{if(b instanceof Array){return a(b)}else{var k=["{"],e=$.stringify,d,h;for(var g in b){if(Object.prototype.hasOwnProperty.call(b,g)){h=b[g];switch(typeof h){case"undefined":case"unknown":case"function":break;default:if(d){k.push(",")}d=1;k.push(e(g)+":"+e(h))}}}k.push("}");return k.join("")}}}}},format:function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;
return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c},subByte:function(h,b,e){var d=[],g=h.split("");e=e||"…";for(var f=0,c=g.length;f<c;f++){if(g[f].charCodeAt(0)>255){d.push("*")}d.push(g[f])}if(b&&b>0&&d.length>b){g=d.join("").substring(0,b-1).replace(/\*/g,"")+e}else{return h}return g},getByteLength:function(f){var c=[],e=f.split("");for(var d=0,b=e.length;d<b;d++){if(e[d].charCodeAt(0)>255){c.push("*")}c.push(e[d])}return c.length},_isValidKey:function(a){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+\x24')).test(a)},setCookie:function(c,d,b){d=encodeURIComponent(d);if(!jQuery._isValidKey(c)){return}b=b||{};var a=b.expires;if("number"==typeof b.expires){a=new Date();a.setTime(a.getTime()+b.expires)}document.cookie=c+"="+d+(b.path?"; path="+b.path:"")+(a?"; expires="+a.toGMTString():"")+(b.domain?"; domain="+b.domain:"")+(b.secure?"; secure":"")},getCookie:function(b){var d="";
if(jQuery._isValidKey(b)){var c=new RegExp("(^| )"+b+"=([^;]*)(;|\x24)"),a=c.exec(document.cookie);if(a){d=a[2]||null;if("string"==typeof d){d=decodeURIComponent(d);return d}}}return null},removeCookie:function(b,a){a=a||{};a.expires=new Date(0);jQuery.setCookie(b,"",a)}});if(typeof JSON!=="object"){JSON={}}(function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null
};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap,indent,meta,rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";
gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;
function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(d){var f=["TITLE","LINK","IMG","BTN"];function c(k,h,l){l=l||[];h=h||document;if(k===h){return l}if(k.parentNode!==h){l=c(k.parentNode,h,l)}if(k.previousSibling){var j=1;var g=k.previousSibling;do{if(g.nodeType==1&&g.nodeName==k.nodeName){j++}g=g.previousSibling}while(g)}if(k.nodeType==1){l.push(k.nodeName.toLowerCase()+(j>1?j:""))}return l}function e(j,l,n){var o=l,m=f,h=m.length,g=j.join(" ");
while(o!==n){for(var k=0;k<h;k++){if(d(o).hasClass("OP_LOG_"+m[k])){return m[k].toLowerCase()}}o=o.parentNode}if(/\bh3\d*\b/.test(g)){return"title"}if(/\bimg\d*\b/.test(g)){return"img"}if(/\ba\d*\b/.test(g)){return"link"}if(/\b(input|select|button|textarea|datalist)\d*\b/.test(g)){return"input"}if(/\blabel\d*\b/.test(g)&&l.getElementsByTagName("input").length>0){return"input"}return""}function a(){d("body").on("mousedown",function(m){var m=window.event||m,h=m.srcElement||m.target,n=d(h);try{var l=n,k,j;while(l.length&&!(l.hasClass("result")||l.hasClass("result-op")||l.hasClass("xpath-log"))){l=l.parent()}if(!l.length){return}if(l.hasClass("result-op")){k="alop"}else{if(l.hasClass("result")){k="as"}}j=l.get(0);var g=c(h,j);b(g,h,j,k)}catch(m){}});d(".sc_common_guidhint").on("mousedown",function(g){var n=d(this),j=n.get(0),l=window.event||l,q=l.srcElement||l.target;var k={};k.hintTpl=n.attr("data-tpl");k.hintId=n.attr("data-id");if(!k.hintId||!k.hintId){return}var o,m,h=q;do{if(o=h.getAttribute("data-click")){try{o=(new Function("return "+o))();
for(m in o){if((typeof k[m]=="undefined")&&o.hasOwnProperty(m)){k[m]=o[m]}}}catch(l){}}h=h.parentNode}while(h&&h!==j.parentNode);window.ns_c_xs(k)})}function b(z,w,r,q){if(w.getAttribute("data-nolog")!=null){return}var j=e(z,w,r);if(!j){return false}if(j=="title"&&!/\ba\d*\b/.test(z)){return false}var C=z.length,m,y=w,H="",n=r.getAttribute("srcid")||"",x=r.getAttribute("mu")||"",k=r.getAttribute("tpl")||"";var G=w.nodeType==1?w.tagName.toLowerCase():"";if(j=="input"){if(/input|textarea/.test(G)){H=w.value;if(w.type&&w.type.toLowerCase()=="password"){H=""}}else{if(/select|datalist/.test(G)){if(w.children.length>0){var o=w.selectedIndex||0;H=w.children[o>-1?o:0].innerHTML}}else{H=w.innerHTML||w.value||""}}}else{if(G=="img"){H=w.title}if(!H){while(C>1){C--;if(/^a\d*\b/.test(z[C])){m=y.href;H=y.innerText;if(y.getAttribute("data-nolog")!=null){return}break}else{if(y.className&&(/OP_LOG_/.test(y.className))){H=y.innerText;break}y=y.parentNode}}}}if(!m||m.slice(-1)==="#"||!(/^http/.test(m))){m=x
}var s={url:1,title:1};var F={rsv_xpath:z.join("-")+"("+j+")",title:d.trim(H)||"",url:m};if(r.id&&r.id.match(/^\d+$/)){F.p1=r.id}if(n){F.rsv_srcid=n}if(k){F.rsv_tpl=k}var g,B,h;y=w;do{if(y.getAttribute("data-nolog")!=null){return}if(g=y.getAttribute("data-click")){try{g=(new Function("return "+g))();for(B in g){if(B=="fm"&&g.fm===null){h=true}if(((typeof F[B]=="undefined")||s[B])&&g.hasOwnProperty(B)){F[B]=g[B]}}}catch(E){}}y=y.parentNode}while(y&&y!==r.parentNode);for(var D in F){if(F[D]===null){delete F[D]}}if(j=="title"){if("mu" in F){delete F.mu}}else{if(!F.mu){F.mu=x}}if(h){if("fm" in F){delete F.fm}}else{if(j=="input"){F.fm="beha"}if(!F.fm){F.fm=q}if(!F.fm){return}}window.ns_c_xs(F)}d(document).ready(function(){a()})})(jQuery);bds.se.cookie=(function(){function b(d,f,c){var e=window.location.hostname;c=c||{};if(e==="www.baidu.com"){return}c.path="/";c.domain=e;$.setCookie(d,f,c)}function a(c){return $.getCookie(c)}return{get:a,set:b}})();(function(c){function a(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var e={product_id:65};
bds.qa.ShortCut.initRightBar(e);var d={product_id:"65",username:bds.comm.username,query:bds.comm.ishome?"":bds.comm.query};bds.qa.ShortCut._getProData(d)}}function b(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){a()}else{if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get){var d=bds.util.domain.get("http://f3.baidu.com/")}else{var d="http://f3.baidu.com/"}c.ajax({url:d+"feedback/js/feedback/feedback0.0.2.js",dataType:"script",success:function(){a()},error:function(){}})}}c(".feedback").on("click",function(d){b();return false})})(jQuery);function user_c(f){var e="",d="",a="",b="",h=encodeURIComponent(window.document.location.href),c=window["BD_PS_C"+(new Date()).getTime()]=new Image();var g=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com";for(v in f){switch(v){case"title":a=encodeURIComponent(f[v].replace(/<[^<>]+>/g,""));break;case"url":a=encodeURIComponent(f[v]);break;default:a=f[v]}e+=v+"="+a+"&"}b="&mu="+h;
c.src=g+"/v.gif?pid=201&pj=psuser&"+e+"path="+h+"&t="+new Date().getTime();return true}$.getScript("//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+new Date().getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"xueshu",subpro:bds.comm.subpro||"",u:window.document.location.href,safeFlag:0,staticPage:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/v3Jump.html"},cache:false,tangram:true,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/xd.html",onBindSuccess:function(b,c){var a=decodeURIComponent(c.passport_uname||c.displayname);bds.se.login.success(a);return false}},onLoginSuccess:function(b){b.returnValue=false;var a=b.rsp.data.userName||b.rsp.data.mail||b.rsp.data.phoneNumber;bds.se.login.success(a)},onSubmitStart:function(a){},onSubmitedErr:function(a){},onSystemErr:function(a){},onShow:function(){},onHide:function(){},onDestroy:function(){}})
});bds.se.loginCallbackFunc=null;bds.se.login={init:function(){this.setUserInfo();var a=this;bds.comm.loginAction.push(function(b,c){a.setUserInfo(c)})},setUserInfo:function(b){var a=b||bds.comm.user;if(!a){$("#u .reg").attr("href","https://passport.baidu.com/v2/?reg&regType=1&tpl=xueshu&u="+encodeURIComponent(document.location.href));return}var c=$("#user");c.find(".logout").attr("href","//passport.baidu.com/?logout&tpl=xueshu&u="+encodeURIComponent(document.location.href))},open:function(b,a){bds.se.loginCallbackFunc=b||function(){window.document.location.reload(true)};bds.se.passv3.show()},success:function(a){if(!bds.comm){return}bds.comm.user=a;bds.comm.username=a;window.bdUser=a;bds.se.passv3.hide();bds.se.loginCallbackFunc.call(window,1,a);for(var b=0;b<bds.comm.loginAction.length;b++){bds.comm.loginAction[b].call(window,1,a)}}};bds.se.login.init();window._invoke_login=function(b,a){bds.se.login.open(b,a)};if($("#lb")){$("#lb").click(function(){bds.se.login.open()})}bds=window.bds||{};
bds.util=bds.util||{};bds.util.limitWd=function(h){var c=[],e=h.split(""),b=e.length,f=0,g=255;if(b<=127){return h}for(var d=0;d<b;d++){if(e[d].charCodeAt(0)>255){f+=2}else{f+=1}if(f===g){e=h.substring(0,d+1);return e;break}else{if(f>g){e=h.substring(0,d);return e;break}}}return h};bds=window.bds||{};bds.se=bds.se||{};bds.se.taskTipsDialog=(function(){var d={firstLogin:{title:"每日首次登陆",content:"欢迎使用百度学术搜索"},firstLoginHelp:{title:"文献互助",content:"欢迎使用文献互助"},firstSimpleSearch:{title:"简单搜索",content:"每天来搜索，知识涨不停"},firstAdvancedSearch:{title:"高级搜索",content:"使用高级搜索，目标更清晰"},firstLookFavorite:{title:"查看收藏",content:"查看“我的收藏”，追溯知识储备"},firstLookSub:{title:"查看订阅",content:"查看“我的订阅”，发现新研究"},addSub:{title:'订阅论文<span class="dialog-comment">(每日上限2分)</span>',content:"欢迎使用百度学术搜索"},favoritePaper:{title:'收藏论文<span class="dialog-comment">(每日上限2分)</span>',content:"收藏关注文献，记录知识增长"},recommendKeyword:{title:"查看关键词",content:"查看关键词，了解相关研究"},recommendJournal:{title:"查看相关期刊",content:"了解同领域相关期刊"},recommendAuthor:{title:"查看相关学者",content:"查看本领域知名学者"},newLable:{title:'新建收藏标签<span class="dialog-comment">(每日上限3分)</span>',content:"为收藏论文添加标签，分类管理"},askHelpPaper:{title:'求助文献<span class="dialog-comment">(每日上限3分)</span>',content:"成功使用文献求助技能"},helpPaper:{title:'应助文献<span class="dialog-comment">(每日上限9分)</span>',content:"成功帮助他人获取文献"},userUpLevel:{title:"等级晋升",content:"恭喜达到LV.",bg:"userUpLevel"},aemLogin_1:{title:"学术新星",content:"恭喜您获得“学术新星”称号",bg:"aemLogin_1"},aemLogin_2:{title:"学术泰斗",content:"恭喜您获得“学术泰斗”称号",bg:"aemLogin_2"},aemLogin_3:{title:"学术帝",content:"恭喜您获得“学术帝”称号",bg:"aemLogin_3"},aemHelpPaper_1:{title:"文献达人",content:"恭喜您成为“文献达人”",bg:"aemHelpPaper_1"},aemFavoritePaper_1:{title:"收藏大师",content:"恭喜您成为“收藏大师”",bg:"aemFavoritePaper_1"},aemSearch_1:{title:"搜索学士",content:"恭喜您成为“搜索学士”",bg:"aemSearch_1"},aemSearch_2:{title:"搜索硕士",content:"恭喜您成为“搜索硕士”",bg:"aemSearch_2"},aemSearch_3:{title:"搜索博士",content:"恭喜您成为“搜索博士”",bg:"aemSearch_3"}};
var f=null;function c(k){var j=['<div id="task-tips-dialog">','<a href="javascript:;" class="c-icon-close-hover task-dialog-close"><i class="c-icon c-icon-close"></i></a>','<div class="task-dialog-content">','<p class="dialog-title"></p>','<p class="dialog-tips"></p>','<a href="//xueshu.baidu.com/u/user?cmd=task" class="dialog-link" target="_blank">查看更多任务</a>',"</div>",'<div class="task-dialog-bg"></div>',"</div>"].join("");$(j).appendTo("body");return $("#task-tips-dialog")}function e(m){var o=$("#task-tips-dialog .dialog-tips"),j=$("#task-tips-dialog .dialog-title"),n=d[m.type],l=n.content,k=n.bg||"default";if(m.type==="userUpLevel"){l='恭喜达到<span class="dialog-colorful">LV.'+m.level+"</span>等级"}if(m.fortune){l+='，财富值<span class="dialog-colorful">+'+m.fortune+"</span>"}if(m.fame){l+='，经验值<span class="dialog-colorful">+'+m.fame+"</span>"}o.html(l);j.html(n.title);$("#task-tips-dialog .task-dialog-bg").removeClass().addClass("task-dialog-bg task-bg-"+k)}function h(j){dialogTime=setTimeout(function(){$("#task-tips-dialog").fadeOut("fast")
},j)}function b(){$("#task-tips-dialog").on("mouseover",function(j){if(dialogTime){clearTimeout(dialogTime);dialogTime=null}}).on("mouseleave",function(j){h(1000)});$(".task-dialog-close").on("click",function(j){clearTimeout(dialogTime);dialogTime=null;$("#task-tips-dialog").hide();j.preventDefault()})}function a(k){if(!bds.comm.taskTipsShow){return}var j=$("#task-tips-dialog");if(!d[k.type]){return}if(!j.length){j=c(k);b()}e(k);var m=($(window).height()-j.outerHeight())/2,l=($(document).width()-j.width())/2;m=$(window).scrollTop()+Math.max(m,10);j.css({top:m,left:l}).fadeIn();h(2000)}function g(j){if(1*bds.comm.isLogin!==1){return}if(bds.comm.taskTipsShow){$.ajax({url:"//xueshu.baidu.com/usercenter/show/userinfo?cmd=update_task",dataType:"jsonp",data:{task_type:j},success:function(k){if(k.status===200){if(k.achievement){a(k.achievement)}else{if(k.daytask){a(k.daytask)}}}}})}}return{taskRequest:g,showDialog:a}})();(function(){var c,f,m,d;function q(B,s){$(".menuDropList").hide();$(".menuarrow").hide();
var t=$(document).width()-B.offset().left,y=parseInt(s.css("left")),x=s.width()+10,z=x+y;if(z>t){var w=y-(z-t);s.css("left",w)}s.show();s.siblings(".menuarrow").show();$("#s_mod_msg").hide()}function j(s){s.hide();s.siblings(".menuarrow").hide()}function l(w,t,s){w.on("mouseover",function(){q(w,t);if(s){clearTimeout(s);s=false}}).on("mouseout",function(){if(s){clearTimeout(s);s=false}s=setTimeout(function(){j(t)},200)});t.on("mouseover",function(){if(s){clearTimeout(s);s=false}}).on("mouseout",function(){if(s){clearTimeout(s);s=false}s=setTimeout(function(){j(t)},200)})}var b=$("#bdbri"),h=$("#qr"),p=$("#qrbox"),a=$("#bdbriList"),k=$("#setting"),o=$("#setMenu"),r=$("#user #userMenu"),e=$("#user");l(b,a,c);l(k,o,f);l(h,p,m);if(e.length!==0){l(e,r,d)}var n=0,g=$("#wrapper");$("#setpref").on("click",function(){if(!n){var s=$("<div>",{id:"prefpanel"});s.appendTo(g);$.getScript("http://s1.bdstatic.com/r/www/cache/mid/static/xueshu/js/pf_cb05cad2.js");n=1}$("#prefpanel").show().animate({top:"0px",opacity:0.98},70*5);
return false})})();var bds=bds||{};bds.se=bds.se||{};bds.se.handleyear=bds.se.handleyear||{};bds.se.handleyear=function(){function c(d,j){var h=new Date().getFullYear(),g=0,f=0,e="";if(d.length===4){return d}if(d.length===0||d==="年"){return(j?"+":"-")}e=(d.length===1)?"0":"";f=parseInt(d);h+="";g=parseInt(h.substr(2,2));d=(f>g)?("19"+e+d):("20"+e+d);return d}function a(d){var e=new Date().getFullYear();if(d.length===4){d=parseInt(d);return(d>e?true:false)}return false}function b(h,e,j){var g="",d="",f="";if((e.length===0||e==="年")&&(h.length===0||h==="年")){return""}h=c(h,false);e=c(e,true);if(h!=="-"&&e!=="+"){(parseInt(h)>parseInt(e))&&(g=h,h=e,e=g)}if(j==="sc_time"){(h!=="-")&&(h+="0000");(e!=="+")&&(e+="9999")}d=j+"={"+h+","+e+"}";return d}return{parseInput:c,is_large:a,createFilter:b}}();(function(){var s=$(".sc_adv_dropdown_btn"),a=$(".sc_adv_dropdown_group"),b=$(".sc_adv_keyword_ipt"),c=$("#sc_adv"),k=$(".sc_adv_triangle_down"),e=k.find(".c-icon"),r=$(".sc_adv_sub_btn"),d=$("#sc_adv_frm"),o=false;
function t(){c.removeClass("show");c.hide();a.hide()}function l(){c.show();c.addClass("show")}function j(){var C=$(".sc_adv_input_ylo"),J=$(".sc_adv_input_yhi"),H=$.trim(C.val()),F=$.trim(J.val()),G="",x="",y=/^[0-9]{0,4}$/,I=H.length,z=F.length,E=true;if((H!=="年")&&(!y.test(H)||I===3||bds.se.handleyear.is_large(H))){C.focus();C.select();C.addClass("error");E=false}else{if((F!=="年")&&(!y.test(F)||z===3)){J.focus();J.select();C.addClass("error");E=false}}if(E){var B=bds.se.handleyear.createFilter(H,F,"sc_year"),D="";return B}else{return false}}function n(){var y=$(".sc_adv_lang_sel a").attr("data-id"),x="";if(y&&y!=="0"){x="sc_la={"+y+"}"}return x}function h(){var x=j(),z=n();if(x===false){return x}var y="";if(x||z){y='<input type="hidden" name="filter" value="'+x+z+'">'}return y}function p(x){return x.split(/,|，/)}function g(C){var z=p(C),B="";for(var y=0,x=z.length;y<x;y++){(y!==0)&&(B+=" ");B+="&quot;"+z[y]+"&quot;"}return B}function m(){var B=b.length,G="",F="",D="",E="",C="",z,x=$(b[0]).attr("data-name");
for(var y=0;y<B;y++){z=$(b[y]);G=$.trim(z.val());F=z.attr("placeholder");if(G&&G!==F){(y!==0)&&(D+=" ");E=z.attr("data-type");switch(E){case"all":D+=G;break;case"precise":D+=g(G);break;case"or":C=p(G);D+="("+C.join(" | ")+")";break;case"not":C=p(G);D+="-("+C.join(" | ")+")";break}}}if(D===""){return""}if(x!==""){D=x+":("+D+")"}return D+" "}s.on("click",function(x){$(this).find(".sc_adv_dropdown_group").toggle();return false});$(".sc_adv_dropgroup_title").on("click","a",function(z){var y=$(this),C=y.parents(".sc_adv_dropdown_group"),B=C.siblings(".sc_adv_dropdown_text"),x=B.find("a");y.appendTo(B);x.appendTo(C);$(".sc_adv_keyword_ipt").attr("data-name",y.attr("data-name"));z.preventDefault()});$(".sc_adv_dropgroup_pub").on("click","a",function(C){var B=$(this),F=B.parents(".sc_adv_dropdown_group"),E=F.siblings(".sc_adv_dropdown_text"),y=E.find("a"),z=$(".sc_adv_pubipt");B.appendTo(E);y.appendTo(F);z.attr("data-name",B.attr("data-name"));var x=z.attr("placeholder"),D=B.attr("data-holder");
if(x===z.val()){z.val(D)}z.attr("placeholder",D);C.preventDefault()});$(".sc_adv_dropgroup_lang").on("click","a",function(y){var x=$(this),B=x.parents(".sc_adv_dropdown_group"),z=B.siblings(".sc_adv_dropdown_text");z.html(x.clone());x.addClass("sc_adv_lang_hide").siblings(".sc_adv_lang_hide").removeClass("sc_adv_lang_hide");y.preventDefault()});k.on("click",function(x){c.toggle();a.hide();if(e.hasClass("c-icon-triangle-down")){e.removeClass("c-icon-triangle-down").addClass("c-icon-triangle-up")}else{e.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}ns_c_xs({fm:"beha",button_tp:"adv_btn"});if(bds.comm.resultSug){bds.comm.resultSug.hide()}x.stopPropagation();return false});function w(x){x=x.replace(/\"/g,"&quot;");x=x.replace(/\'/g,"&quot;");x=x.replace(/\</g,"&lt;");x=x.replace(/\>/g,"&gt;");return x}r.on("click",function(D){var y=$(".sc_adv_txin"),G="",x="",F,B,E="";x=m();for(var z=0,C=y.length;z<C;z++){F=$(y[z]);G=F.val();E=F.attr("placeholder");name=F.attr("data-name");
if(G&&G!==E){x+=name+":("+(G)+") "}}x=$.trim(x);if(x!=""){x=bds.util.limitWd(x);x=w(x);$(".sc_adv_wd_hidden").html('<input type="hidden" name="wd" value="'+x+'">');B=h();if(B!==false){(B!=="")&&$(B).appendTo($("#sc_adv_frm"));d.submit();ns_c_xs({fm:"advse",button_tp:"adv_search"})}}else{$(b[0]).addClass("error").focus()}D.preventDefault();return false});c.on("click",function(x){a.hide();x.stopPropagation()});$(document).on("click",function(){c.hide();e.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")});$("#sc_adv_frm .c-input").on("click",function(){var x=$(this);if(x.hasClass("sc_adv_input_ylo")||x.hasClass("sc_adv_input_yhi")){$(this).removeClass("error")}else{$(b[0]).removeClass("error")}});$("#kw").on("click",function(x){c.hide();e.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")});function f(B){var K=[],F=[],J,y,G,L=[],z=0;y=/(title|journal|期刊|conference|会议|author|作者):\(.*?\)/g;B.replace(y,function(){K.push(J);F.push(arguments[2])});var H=[],x,I;
for(var C=0,E=F.length;C<=E;C++){x=(C===0)?0:F[C-1];I=(C===E)||F[C];if(I!==0){if(C!==E){H.push(B.substring(x,I))}else{H.push(B.substring(x))}}}L.keyword="";y=/(title|journal|期刊|conference|会议|author|作者):\((.*)\)/g;for(var C=0;C<H.length;C++){if(H[C]){if(!H[C].match(y)){L.keyword+=H[C]}else{H[C].replace(y,function(){J=arguments[1];if(J==="作者"){J="author"}else{if(J==="conference"||J==="journal"||J==="期刊"||J==="会议"){J="publish"}}L[J]=arguments[2];L.keyword+=H[C].replace(arguments[0],"")})}}}if(L.title){L.keyword+=L.title}if(!L.keyword.match(/(refpaperuri|journaluri|confuri|puburi|bookuri):\((.*?)\).*/)){y=/\"(.*)\"/;var D=L.keyword;if(D){if(G=D.match(y)){L.keyword2=G[1];L.keyword=D.replace('"'+G[1]+'"',"")}}L.keyword=L.keyword.replace(/(^\s+)|(\s+$)/g,"")}else{L.keyword=""}return L}function q(){}q()})();(function(){bds.se.sug=function(c){var c=c||{};var b=new a(c);return b.outInterface()};function a(b){this.sugcontainer=null;this.timer=null;this.visible=false;this.sugCount=b.sugCount||10;this.ipt=b.ipt||$("#kw")[0];
this.form=b.form||$("#form")[0];this.submission=b.submission||null;this.index=-1;this.query=this.ipt&&this.ipt.value||"";this.value=this.query;this.showValue=this.query;this.reqValue="";this.inputValue=this.query;this.sugValue="";this.init()}a.prototype={init:function(){var b=this;b.initSug();b.addEvent();b.clearStat()},render:function(g){var c="",e=this,f=e.ipt.value;c+="<ul>";for(var b=0;b<e.sugCount;b++){if(g[b]){c+='<li data-query="'+g[b]+'" data-index="'+b+'">';c+=j(g[b],f);c+="</li>"}}c+="</ul>";if(!$(".sug-container").length){e.initSug()}e.sugcontainer.html(c);e.showSug();function j(l,k){if(k&&l){l=$.trim(l);k=$.trim(k);if(l.indexOf(k)==0&&l!==k){l=d(l,k)}else{l=h(l)}}return l}function d(o,m){o=h(o);m=h(m);var l=m;var k=m.length;var n="<b>"+o.substring(k)+"</b>";return(l+n)}function h(k){k=k.replace(/&/g,"&amp;");k=k.replace(/</g,"&lt;");k=k.replace(/>/g,"&gt;");return k}},request:function(d){var c=this;c.reqValue=d;if(d===""){return}if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get){var b=bds.util.domain.get("http://nssug.baidu.com/")
}else{var b="http://nssug.baidu.com/"}$.ajax({dataType:"jsonp",async:true,url:b+"su?wd="+d+"&prod=xueshu&json=1&ie=utf-8",jsonp:"cb",timeout:5000,success:function(e){if(e.s&&e.s.length!==0){c.render(e.s)}}})},startCircle:function(){var b=this;if(b.timer){return}b.timer=setTimeout(function(){if((b.value!=b.ipt.value)&&(b.showValue!=b.ipt.value)){b.inputValue=b.showValue=b.value=b.ipt.value;b.request(b.value)}b.timer=setTimeout(arguments.callee,200)},200)},stopCircle:function(){var b=this;if(b.timer){clearTimeout(b.timer);b.timer=null}},hideSug:function(){this.sugcontainer.hide();this.visible=false},showSug:function(){var b=this;b.index=-1;if((b.ipt.value===b.reqValue)&&b.ipt.value!==""){b.sugcontainer.find("li").length&&b.sugcontainer.show()}else{b.request(b.ipt.value)}b.visible=true},selectSug:function(d){var e=this;var c=e.sugcontainer.find("li");e.blurSug(c);var f=$($(c)[d]);var b=f.attr("data-query");if(d!=-1){e.focusSug(f,b);e.sugValue=e.showValue=e.value=e.ipt.value=b;e.addStat("rsv_n",1)
}else{e.showValue=e.value=e.ipt.value=e.inputValue;e.sugValue="";e.removeStat("rsv_n")}},blurSug:function(b){var c=this;b.removeClass("sug-s")},focusSug:function(c){var b=this;c.addClass("sug-s")},pressUp:function(){var b=this;if(b.sugcontainer.css("display")!=="none"){var c=b.sugcontainer.find("li").length;b.index--;if(b.index<-1){b.index=c-1}b.selectSug(b.index)}},pressDown:function(){var b=this;if(b.sugcontainer.css("display")!=="none"){var c=b.sugcontainer.find("li").length;b.index++;if(b.index>=c){b.index=-1}b.selectSug(b.index)}},initSug:function(){this.sugcontainer=$(".sug-container");if(!this.sugcontainer.length){this.sugcontainer=$('<div class="sug-container"></div>');this.sugcontainer.appendTo($(this.form))}},addStat:function(c,e){var d=this;var b=$(d.form).find('input[type="hidden"][name="'+c+'"]');if(b.length){$(b).val(e)}else{$(d.form).append('<input type="hidden" name="'+c+'" value="'+e+'"/>')}},removeStat:function(b){var c=this;$(c.form).find('input[type="hidden"][name="'+b+'"]').remove()
},clearStat:function(){var b=this;b.removeStat("rsp");b.removeStat("rsv_n")},formSubmit:function(d){var c=this,b=true;if(c.index!==-1){c.addStat("f",3);c.addStat("rsp",c.index)}if($.isFunction(c.submission)){b=c.submission.call(c.form,d)}if(b){c.form.submit()}},addEvent:function(){var b=this;$(b.ipt).on("focus",function(c){b.startCircle()}).on("click",function(c){b.showSug();c.stopPropagation()}).on("keydown",function(c){c=c||window.event;if(c.keyCode==38){c.preventDefault();b.pressUp()}if(c.keyCode==40){c.preventDefault();b.pressDown()}if(c.keyCode==9||c.keyCode==27){b.hideSug()}if(c.keyCode==8){setTimeout(function(){if(b.ipt.value===""){b.hideSug()}},100)}if(c.keyCode==13){b.hideSug();b.addStat("rsv_sug2",0)}if(c.keyCode==86&&c.ctrlKey){b.addStat("rsv_n",2)}});b.sugcontainer.on("mouseenter","li",function(d){var c=$(this).attr("data-query");b.blurSug(b.sugcontainer.find("li"));b.focusSug($(this),c);b.index=$(this).attr("data-index")*1}).on("mouseleave","li",function(c){$(this).removeClass("sug-s")
}).on("click","li",function(d){var c=$(this).attr("data-query");b.sugValue=b.showValue=b.value=b.ipt.value=c;b.hideSug();b.addStat("rsv_sug2",1);b.formSubmit()});$(window).on("blur",function(){b.hideSug()});$(document).on("click",function(c){b.hideSug();b.ipt.blur()});b.form&&$(b.form).submit(function(c){b.formSubmit(c);return false})},outInterface:function(){var b=this;return{setKey:function(c){b.ipt.value=b.value=b.inputValue=b.showValue=c},visible:function(){return b.visible},show:function(){return b.showSug()},hide:function(){return b.hideSug()},start:function(){return b.startCircle()},stop:function(){return b.stopCircle()},formSubmit:function(){return b.formSubmit()}}}}})();(function(){if(!$("#imsg").length){return}var b=0,c=1,a=null;if(!bds.comm.ishome){b=1;c=0;a=$("#tnav_r_menu .newmsgicon")}else{b=0;c=1;a=$("#platform_menu .newmsgicon")}$.ajax({url:"http://s1.bdstatic.com/r/www/cache/mid/static/xueshu_mt/js/message_1.1_a3379956.js",dataType:"script",cache:true,success:function(){var d=$("#s_mod_msg");
bds.se.message&&bds.se.message.init&&bds.se.message.init({container:d,msgbtn:$("#imsg"),isResPage:1,hasborder:b,initShow:c,msgGetCb:function(e){if(e&&e.length){a.css("display","inline-block")}},msgCleanCb:function(){a.hide()}});$("#user").on("mouseover",function(){$("#s_mod_msg").hide()});d.on("mousedown",function(l){var j=l.target,f,k={},h=0,g;do{if(g=j.getAttribute("data-click")){try{g=(new Function("return "+g))();for(f in g){k[f]=g[f]}h=1}catch(l){}}j=j.parentNode}while(j&&j!==d[0]);if(h){k.fm="behs";k.tab="imsg";ns_c_xs(k)}})}})})();(function(){var c=/sc_tasktype={(.*)}/,a=bds.comm.sc_f_para,d=null,b="";if(a){d=a.match(c);if(d&&d[1]){b=d[1];bds.se.taskTipsDialog.taskRequest(b)}}if(bds.comm.ishome){bds.se.taskTipsDialog.taskRequest("firstLogin")}}());(function(){var a=0;$(window).on("scroll",function(b){if($(window).scrollTop()<a&&$(window).scrollTop()>0){$("#head_wr").addClass("scroll_head").width($("#wrapper").width());$("#container").css("padding-top",$("#container").css("padding-top")+$("#head_wr").height())
}else{if($(window).scrollTop()>a||$(window).scrollTop()==0){$("#head_wr").removeClass("scroll_head").width("100%");$("#container").css("padding-top",$("#container").css("padding-top")-$("#head_wr").height())}}if(Math.abs(a-$(window).scrollTop())>50){a=$(window).scrollTop()}if($("#head_wr").css("position")=="fixed"){$("#head_wr").css("left",-$(this).scrollLeft()+"px")}})})();for(i=0;i<3;i++){u($($(".s_ipt_wr")[i]),$($(".s_ipt")[i]),$($(".s_btn_wr")[i]),$($(".s_btn")[i]))}function u(d,c,a,b){if(d&&c){d.on("mouseover",function(){d.addClass("ipthover")}).on("mouseout",function(){d.removeClass("ipthover")}).on("click",function(){c.focus()});c.on("focus",function(){d.addClass("iptfocus")}).on("blur",function(){d.removeClass("iptfocus")})}if(a&&b){a.on("mouseover",function(){b.addClass("btnhover")}).on("mouseout",function(){b.removeClass("btnhover")})}}(function(){if(!a()){$("input[placeholder]").focus(function(){var b=$(this);if(b.val()==b.attr("placeholder")){b.val("");b.removeClass("placeholder")
}}).blur(function(){var b=$(this);if(b.val()==""||b.val()==b.attr("placeholder")){b.addClass("placeholder");b.val(b.attr("placeholder"))}}).blur()}function a(){return"placeholder" in document.createElement("input")}$("#tnav_l").height(Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight))})();bds.comm.resultSug=bds.se.sug({submission:form_submit});if(bds.comm.ishome){bds.comm.resultSug.start()}function form_submit(){var b=$("#kw"),a=b.val();if(a){a=bds.util.limitWd(a);bds.comm.resultSug.setKey(a)}return true}var bds=bds||{};bds.se=bds.se||{};bds.se.handleyear=bds.se.handleyear||{};bds.se.handleyear=function(){function c(d,j){var h=new Date().getFullYear(),g=0,f=0,e="";if(d.length===4){return d}if(d.length===0||d==="年"){return(j?"+":"-")}e=(d.length===1)?"0":"";f=parseInt(d);h+="";g=parseInt(h.substr(2,2));d=(f>g)?("19"+e+d):("20"+e+d);return d}function a(d){var e=new Date().getFullYear();if(d.length===4){d=parseInt(d);return(d>e?true:false)
}return false}function b(h,e,j){var g="",d="",f="";if((e.length===0||e==="年")&&(h.length===0||h==="年")){return""}h=c(h,false);e=c(e,true);if(h!=="-"&&e!=="+"){(parseInt(h)>parseInt(e))&&(g=h,h=e,e=g)}if(j==="sc_time"){(h!=="-")&&(h+="0000");(e!=="+")&&(e+="9999")}d=j+"={"+h+","+e+"}";return d}return{parseInput:c,is_large:a,createFilter:b}}();(function(){var b=$(".leftnav_t"),h=$(".leftnav_list_show"),d=$(".leftnav_showmore"),a=$(".leftnav_hidemore"),c=$(".filter-school-tips"),f="SC_PKU",g=bds.se.cookie.get(f);b.on("click",function(m){var o=$(this),l=o.siblings(".leftnav_list"),j=o.find(".c-icon"),n=l.children(".leftnav_list_cont"),k=n.outerHeight();if(o.hasClass("disable")){m.preventDefault();return}if(!l.hasClass("leftnav_list_show")){l.css("height",k);l.addClass("leftnav_list_show");j.removeClass("c-icon-arrow-down-gray").addClass("c-icon-arrow-up-gray")}else{l.css("height","0");l.removeClass("leftnav_list_show");j.removeClass("c-icon-arrow-up-gray").addClass("c-icon-arrow-down-gray")
}m.preventDefault()});d.on("click",function(k){var m=$(this),j=m.parents(".leftnav_list"),l=j.children(".leftnav_list_cont");j.removeClass("left_list_short").addClass("left_list_long");j.css("height",l.outerHeight());$(this).parents(".leftnav_item").siblings().find(".leftnav_hidemore").trigger("click")});a.on("click",function(k){var m=$(this),j=m.parents(".leftnav_list"),l=j.children(".leftnav_list_cont");j.removeClass("left_list_long").addClass("left_list_short");j.css("height",l.outerHeight())});h.each(function(j,k){var l=$(this);l.height(l.find(".leftnav_list_cont").outerHeight())});if(c.length){$(".filter-school-logo").on("mouseover",function(j){c.fadeIn("fast");j.preventDefault()}).on("mouseout",function(j){c.hide();j.preventDefault()});if(!g){setTimeout(function(){c.fadeIn()},300);setTimeout(function(){c.fadeOut("fast");bds.se.cookie.set(f,"1",{expires:365*24*60*60*1000})},2300)}}(function e(){var k=$(".leftnav_year_fm"),n=$(".leftnav_input_sub"),l=$("#leftnav_input_ylo"),j=$("#leftnav_input_yhi"),m=$(".leftnav_year_para");
n.on("click",function(o){var D=$.trim(l.val()),y=$.trim(j.val()),B="",p="",r=/^[0-9]{0,4}$/,z="",t="",x=true,C=D.length,s=y.length;if((D!=="年")&&(!r.test(D)||C===3||bds.se.handleyear.is_large(D))){l.focus();l.select();x=false}else{if((y!=="年")&&(!r.test(y)||s===3)){j.focus();j.select();x=false}else{if((y.length===0||y==="年")&&(D.length===0||D==="年")){l.focus();l.select();x=false}}}if(x){var w="",q="";q+=m.attr("data-type")+m.attr("data-cate")+m.attr("data-level");q+=bds.se.handleyear.createFilter(D,y,"sc_year");w='<input type="hidden" name="filter" value="'+q+'">';m.html(w);k.submit()}o.preventDefault()})})()})();bds=window.bds||{};bds.se=bds.se||{};bds.se.quote=(function(){var t=0;var z={needLog:0,logFuc:function(){},eventBtnClass:"",eventFn:function(){},cssId:"quote_css_style",reqUrl:"//xueshu.baidu.com/u/citation?"};var e=["#sc_quote_bg{display: none;background:#666;z-index:990;opacity:.5;filter:alpha(opacity=50);filter:alpha(opacity=50);position:absolute;top:0;left:0;width:100%;height:100%}","#sc_quote_wr{display:none;color:#000;position:absolute;z-index:999;width:580px;padding:18px 0 30px 0;background:#fff;box-shadow:2px 2px 8px rgba(0,0,0,0.65);-moz-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-webkit-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-ms-box-shadow:2px 2px 8px rgba(0,0,0,0.65)}","#sc_quote_wr .sc_quote_top{margin:0 20px}","#sc_quote_wr .sc_md_cls{float:right}","#sc_quote_wr .sc_quote_title,.sc_savelink_title{font-size:14px;font-weight:bold;width:100px;height:20px}","#sc_quote_wr .sc_quote_content{margin:13px 40px 0}","#sc_quote_wr .sc_quote_list_item_r i{position:relative;font-style:italic;}","#sc_quote_wr .sc_quote_list_item{*zoom:1;clear:both;border-top:1px solid #e6e6e6;padding:10px 0;line-height:1.24em;height:auto;overflow:hidden}","#sc_quote_wr .sc_quote_list_item_l{float:left;color:#666;width:63px;text-align:right;margin-right:12px}","#sc_quote_wr .sc_quote_list_item_r{float:left;width:423px}","#sc_quote_wr .sc_quote_list{margin-top:10px}","#sc_quote_wr .sc_quote_citi{border-top:1px solid #e6e6e6;padding-top:13px;color:#666}","#sc_quote_wr .sc_quote_citi a{margin-right:10px;white-space:nowrap;line-height:21px;text-decoration:none;color:#005cd9}","#sc_quote_wr .sc_quote_citi a:hover{text-decoration:underline;}","#sc_quote_wr .sc_quote_citi_tip{padding:0 12px}","#sc_quote_wr .sc_quote_loading,.sc_quote_error{height:100px;line-height:100px;margin-left:40px;color:#505961}"].join("");
var n=['<div id="sc_quote_bg"></div>','<div id="sc_quote_wr">','<div class="sc_quote_top">','<a href="javascript:;" class="sc_md_cls c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<h3 class="sc_quote_title">引用</h3>',"</div>",'<div class="sc_quote_content">',"</div>","</div>"].join("");var d='<div class="sc_quote_loading">数据加载中...</div>';var s='<div class="sc_quote_error">抱歉，获取数据失败</div>';var q=null,B=null,b=null;var r=null;var f=window.getSelection?function(D){getSelection().selectAllChildren(document.getElementById(D))}:function(F){try{var D=document.body.createTextRange();D.moveToElementText(document.getElementById(F));D.select()}catch(E){}};function x(D){D=D||{};if(!t){t=1;m();w();z=$.extend(z,D);c()}}function w(){if($("#"+z.cssId).length){return}$('<style id="'+z.cssId+'">'+e+"</style>").appendTo($("head"))}function m(){$(n).appendTo($("body"));q=$("#sc_quote_wr");B=$("#sc_quote_bg");b=$(".sc_quote_content")}function c(){q.on("click",".sc_quote_list_item_r",function(E){var D=$(this);
D.focus();a(D.attr("id"))});q.on("click",".sc_quote_list_item_l",function(F){var E=$(this),D=E.siblings(".sc_quote_list_item_r"),G=D.attr("id");D.focus();a(G)});q.on("click",".sc_md_cls",function(D){o();D.preventDefault()});B.on("click",function(D){o();D.stopPropagation()});if(z.needLog){q.on("mousedown",".sc_quote_citi a",function(E){var D=$(this);j(D.attr("data-type"))})}if(z.eventBtnClass){$("body").on("click",z.eventBtnClass,function(D){z.eventFn($(this));_hmt&&_hmt.push(["_trackPageview","/virtual/quote"]);return false})}}function a(D){f(D);j($("#"+D).attr("data-type"))}function j(D){if(z.needLog){z.logFuc(D)}}function C(L){if(L.errno===0){k(L)}else{h()}var K=0,J=0,F=$(window).height(),D=navigator.userAgent,E=/MSIE (\d+).*/,I=D.match(E);if(I&&parseInt(I[1])<8){K=(F-220)/2}else{K=(F-q.outerHeight())/2}(K>300)&&(K-=100);J=$(window).scrollTop()+Math.max(K,10);q.css({top:J,left:($(document).width()-580)/2,display:"block"});var G=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),H=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);
B.css({height:G,width:H}).show();$("#sc_quote_wr #sc_cit0").click()}function y(D){D=D.replace(/#i\{/g,"<i>");D=D.replace(/\}/g,"</i>");return D}function l(E){var D=["<p>复制并粘贴一种已设定好的引用格式，或利用其中一个链接导入到文献管理软件中。</p>",'<div class="sc_quote_list">','<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">GB/T 7714</div>','<div class="sc_quote_list_item_r" data-type="GB/T" tabindex="0" id="sc_cit0">'+y(E.sc_GBT7714)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">MLA</div>','<div class="sc_quote_list_item_r" data-type="MLA" tabindex="0" id="sc_cit1">'+y(E.sc_MLA)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">APA</div>','<div class="sc_quote_list_item_r" data-type="APA" tabindex="0" id="sc_cit2">'+y(E.sc_APA)+"</div>","</div>","</div>"].join("");return D}function p(L){var D="",I="",E="",J=["bib","enw","ris","txt","net"],K=["BibTeX","EndNote","RefMan","NoteFirst","NoteExpress"];D=z.reqUrl+"&url="+encodeURIComponent(L.request.url)+"&sign="+L.request.sign+"&diversion="+r;
for(var F=0,H=J.length;F<H;F++){E=D+"&t="+J[F];I+='<a href="'+E+'" target="_blank" data-type="'+K[F]+'">'+K[F]+"</a>"}var G=['<div class="sc_quote_citi">','<span class="sc_quote_citi_tip">导入链接</span>',I,"</div>"].join("");return G}function k(E){var D="";D=l(E);D+=p(E);b.html(D)}function h(){b.html(s)}function o(){q.hide();B.hide()}function g(D){D.t="cite";r=D.diversion;if(!b){return}b.html(d);$.ajax({url:z.reqUrl,data:D,dataType:"jsonp",timeout:3000,success:function(E){},complete:function(F,E){if(E==="success"){C(F.responseJSON)}else{C({errno:-1})}}})}return{init:x,show:g,hide:o}})();A.uiPrefix="//www.baidu.com/cache/aladdin/ui/";(function(){var a=window.bds.aladdin;if(typeof(baidu)!="undefined"){a.baidu=baidu}var f=a._Aladdin.fixs=[];var d={},c=0;var e=function(h){h.ajaxId=++c;d[h.ajaxId]=h};var g=function(h){delete d[h.ajaxId]};var b=function(h){if(!h.ajaxId){return false}return d.hasOwnProperty(h.ajaxId)};a.addDisposeHandler({obj:d,fn:function(){for(var h in d){if(d.hasOwnProperty(h)){delete d[h]
}}}});$.extend(a._Aladdin.prototype,{q:function(j,h){h=h||"";return $(this.container).find(h+"."+j).get()},qq:function(j,h){return this.q(j,h)[0]},find:function(h){return window.jQuery(h,this.container)},ready:function(){$(document).ready.apply(this,arguments)},ajax:function(s,y,l){var w=a.AJAX;var z=+new Date();var k=l.params||{};var m={query:s,co:l.co||"",resource_id:y,t:z};$.extend(m,w.PARAMS);$.extend(m,k);var s=$.param(m);var j=w.API_URL+"?"+s;var r=function(){var p=new Image();p.src=$.format(w.ERR_URL,{url:j});a.logs.push(p)};var q=new Date().getTime();var o=function(p){var t=new Date().getTime()-q;var B={fm:"opendataajax",srcid:y,time:t,status:p};ns_c(B)};var x=function(p){if(!b(x)){return}h();if(p.status==0){l.success(p.data)}else{l.error&&l.error(p.status);r()}o(0)};var n=function(){if(!b(n)){return}h();l.timeout&&l.timeout();r();o(1)};var h=function(){g(x);g(n)};e(x);e(n);$.ajax({url:j,scriptCharset:w.PARAMS.oe,timeout:w.TIMEOUT,dataType:"jsonp",jsonp:"cb",success:x,error:n})}});
a.AJAX={API_URL:"http://opendata.baidu.com/api.php",ERR_URL:"http://open.baidu.com/stat/al_e.gif?ajax_err_url=#{url}",PARAMS:{ie:"utf8",oe:"gbk",cb:"op_aladdin_callback",format:"json",tn:"baidu"},TIMEOUT:6000};f.push(function(h){var j=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;if(j){var k=document.charset;$.each(h.container.getElementsByTagName("form"),function(m,n){var o=function(){var p=n.acceptCharset;if(p&&p.toString().toUpperCase()!="UNKNOWN"&&p!=document.charset){document.charset=p;setTimeout(function(){document.charset=k},1000)}};$(n).on("submit",o);var l=n.submit;n.submit=function(){o();try{l.call(n)}catch(p){l()}}})}})})();(function(){var e=window.A,b={},g={},q={},n=document,l=n.getElementsByTagName("head")[0],f=false,d=["baidu"],o=false,c=e.baidu,k=function(){};var j={"*":function(r,s){return s+"?v=2014010100"},scrollbarv:function(r,s){return s+"?v=20140121"},likeshare4:function(r,s){return s+"?v=20140116"},mboxsingleton:function(r,s){return s+"?v=20140116"
},sms:function(r,s){return s+"?v=20140507"},tab:function(r,s){return s+"?v=20140117"},tabs:function(r,s){return s+"?v=20140116"},musicplayer:function(r,s){return s+"?v=20140123"},slider:function(r,s){return s+"?v=20140123"},suggestion:function(r,s){return s+"?v=20140123"},tabs5:function(r,s){return s+"?v=20140827"},tabx:function(r,s){return s+"?v=20140117"},dropdown1:function(r,s){return s+"?v=20140117"},dropdown21:function(r,s){return s+"?v=20140227"},advert:function(r,s){return s+"?v=20140523"},honourCard:function(r,s){return s+"?v=20140711"},share:function(r,s){return s+"?v=20140319"},qHotCity:function(r,s){return s+"?v=20140806"},ALD_feedback:function(r,s){return s+"?v=20140827"}};$(document).ready(function(){f=true});e.addDisposeHandler({obj:e,fn:function(){for(var r in q){if(q.hasOwnProperty(r)){var s=q[r];while(s.length){s.pop()}}}}});function a(s,y){var w=typeof s==="string"?s.split(/\s*,\s*/):s;if(w.length>1){if(y){a(w.shift(),function(){if(w.length>0){a(w,y)}})}else{while(w.length){a(w.shift())
}}return}s=w[0];if(s==="jquery"&&window.jQuery){!e.ui.jquery&&(e.ui.jquery=window.jQuery);y&&y();return}var x=s.replace(/\./g,"/");var r=s.replace(/^[\s\S]*\./,"");var t=e.uiPrefix+x+"/"+r;if(x.search("style/")==0){m(t+".css",y)}else{t+=".js";if(j.hasOwnProperty(s)){if(typeof j[s]=="function"){t=j[s](s,t)}else{if(typeof j[s]=="string"){t=j[s]}}}else{if(j.hasOwnProperty("*")){t=j["*"](s,t)}}if(y){p(t,y)}else{h(t)}}}a.cache=b;function m(s,t){t=t||k;if(s in b){t();return}var r=n.createElement("link");r.rel="stylesheet";r.type="text/css";r.href=s;r.setAttribute("data-for","A.ui");l.appendChild(r);b[s]=1;t()}function h(r){if(f){p(r,k);return}if(r in b){return}n.write('<script charset="gb2312" type="text/javascript" src="'+r+'"><\/script>');b[r]=1}function p(t,w){w=w||k;if(t in b){w();return}if(t in g){q[t].push(w);return}g[t]=1;var s=q[t]=[w];var r=n.createElement("script");r.type="text/javascript";r.charset="gb2312";r.onload=r.onreadystatechange=function(){if((!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){while(s.length){s.shift()()
}delete g[t];b[t]=1;r.onload=r.onreadystatechange=null}};r.src=t;r.setAttribute("data-for","A.ui");l.insertBefore(r,l.firstChild)}e.uicss=function(r){m(e.uiPrefix+r)};e.uijs=function(r,s){p(e.uiPrefix+r,s)};e.uijsPathMap=function(r){$.extend(j,r)};e.use=a;e.ui=e.ui||{};e.addCssText=function(w){var z="opui-style-tag-id",s="data-for",r="A.ui",t=document.getElementById(z);if(!t){t=document.createElement("style");t.setAttribute("type","text/css");t.setAttribute(s,r);t.id=z;document.getElementsByTagName("head")[0].appendChild(t)}try{var x=document.createTextNode(w);t.appendChild(x)}catch(y){if(t.styleSheet){t.styleSheet.cssText+=w}}}})();$(window).scroll((function(){var a=$("#head_wr"),f=$(window);var b=50;var e;var d=a.offset().top;var c=function(){if(e){clearTimeout(e);e=false}e=setTimeout(function(){var g=f.scrollTop();if(g>b+d){e=setTimeout(function(){a.addClass("s_down")},0)}else{if(g<=b+d){e=setTimeout(function(){a.removeClass("s_down")},0)}}},50)};return c})());bds.util.showDialog=function(b,d,g){var f="",a="",e=$(".subsDialog");
if(b==200){f=d||"操作成功";a="c-icon-ok"}else{f=d||"操作失败";a="c-icon-fail"}if(!e.length){var c=['<div class="subsDialog">','<i class="c-icon '+a+'"></i>','<span class="texttip">'+f+"</span>","</div>"].join("");$(c).appendTo("body");e=$(".subsDialog");e.css({height:"42px",padding:"0 20px",color:"#69c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"});e.find(".texttip").css({"padding-left":"6px",_zoom:1});e.find(".c-icon").css({_display:"none"})}else{e.find(".texttip").text(f);e.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(a)}if(g){e.css({top:g.top||(Math.floor(($(window).height()-e.outerHeight())/2+$(window).scrollTop())),left:g.left?Math.floor(g.left-e.outerWidth()/2):Math.floor(($(window).width()-e.outerWidth())/2)}).fadeIn()}else{e.css({top:(Math.floor(($(window).height()-e.outerHeight())/2+$(window).scrollTop())),left:Math.floor(($(window).width()-e.outerWidth())/2)}).fadeIn()
}setTimeout(function(){e.fadeOut()},1000)};var bds=bds||{};bds.se=bds.se||{};bds.se.collect=(function(){var c=$(".sc_collect"),m=c.length,b=[],a=[],h=10,g=1,r=Math.ceil(m/h),o,q="//xueshu.baidu.com/usercenter?tab=collect";function p(){k();e()}function f(t,s){$.ajax({url:"//xueshu.baidu.com/usercenter/data/collect?cmd="+t.cmd,dataType:"jsonp",data:t.data,timeout:1000,success:function(w){s&&s(w);if(w.status==200){t.success&&t.success(w)}else{t.error&&t.error()}},complete:function(x,w){if(w!=="success"){t.error&&t.error()}}})}function l(t,s){setTimeout(function(){if(s){t.find("span").html("已收藏");t.addClass("collected").attr("title","已收藏");t.attr({href:q+"&paper_id="+s,"data-click":'{"button_tp":"view_collect"}'})}},150)}function j(s){setTimeout(function(){s.find("span").html("收藏失败")},150)}function n(z){var x="",w=navigator.userAgent,y=/MSIE (\d+).*/,t=w.match(y),s=0;if(t&&parseInt(t[1])<9){x="收藏中..."}else{x=['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join("")
}z.find("span").html(x)}function e(){c.on("click",function(x){var w=$(this),t=w.parents(".sc_default_result,#dtl_l").find(".reqdata").attr("diversion"),s=w.attr("data-url");if(w.hasClass("collected")){return}if(w.find(".spinner").length){return;x.preventDefault()}if(1*bds.comm.isLogin!==1){bds.se.login.open();x.preventDefault();return}f({cmd:"add_paper",data:{paper_url:s,diversion:t},success:function(y){l(w,y.data.id);if(y.achievement){bds.se.taskTipsDialog.showDialog(y.achievement)}else{if(y.daytask){bds.se.taskTipsDialog.showDialog(y.daytask)}}},error:function(){j(w)}});n(w);x.preventDefault()});$(window).on("scroll",function(w){if(!o){return}var t=$(o).offset().top,s=document.body.scrollTop||document.documentElement.scrollTop,x=window.screen.availHeight;if((s+x)>=(t-100)){k()}})}function d(y){var t="",w,z=y.data;if(z){for(var x=0,s=b.length;x<s;x++){w=$(b[x]);t=w.attr("data-urlmd");if(z[t]){l(w,z[t].favorite_papers_id)}w.show()}}}function k(){if(1*bds.comm.isLogin!==1){return}var x=[],w;
if(g>r){return}var y=(g-1)*h,s=g*h;(s>m)&&(s=m);b=[];for(var t=y;t<s;t++){w=c[t];if(w){x.push($(w).attr("data-url"));b.push(w)}}f({cmd:"judge_papers",data:{paper_urls:x},success:function(z){d(z)}},function(){o=b[b.length-1];g+=1})}return{init:p,getCollectInfo:k}})();bds.se.collect.init();(function(){var j="//xueshu.baidu.com/usercenter?tab=subscribe";var b="//xueshu.baidu.com/usercenter/data/Searchsubscription";function m(){c()}function g(n){$.ajax({url:b,dataType:"jsonp",data:n.data,success:function(o){if(o.status==200){n.success&&n.success(o)}else{n.error&&n.error(o.status)}},error:function(){n.error&&n.error(500)}})}function a(){$("#head_wr").on("mousedown","#addSubsBtn",function(o){var n="";if($(this).attr("data-add")==="1"){n="view_subs"}else{n="add_subs"}ns_c_xs({fm:"beha",button_tp:n})})}function c(){g({data:{cmd:"isRemind",query:bds.comm.query},success:function(n){h(n);a()}})}function k(n){g({data:{cmd:"add",query:n.tagname,sc_level:n.sc_level,cycle:n.cycle},success:function(o){l(o);
bds.util.showDialog(o.status);if(o.achievement){bds.se.taskTipsDialog.showDialog(o.achievement)}else{if(o.daytask){bds.se.taskTipsDialog.showDialog(o.daytask)}}},error:function(o){bds.util.showDialog(500)}})}function h(o){var p=o.data.toLowerCase(),n="";if(p==="yes"){n='<a href="'+j+'" target="_blank" id="addSubsBtn" data-add="">订阅</a>';$(n).appendTo($(".s_form_wr"));f();e();ns_c_xs({fm:"beha",button_tp:"add_subs_show"})}else{if(p==="exists"){n='<a href="'+j+"&tag_id="+o.tag_id+'" target="_blank" id="addSubsBtn" data-add="1" data-id="">查看该订阅</a>';$(n).appendTo($(".s_form_wr"));ns_c_xs({fm:"beha",button_tp:"view_subs_show"})}}}function l(o){var p=$("#addSubsBtn"),n=p.attr("href")+"&tag_id="+o.data.id;p.attr("data-add","1").text("查看该订阅");p.attr("href",n);ns_c_xs({fm:"beha",button_tp:"view_subs_show"})}function f(){$("#head_wr").on("click","#addSubsBtn",function(n){if($(this).attr("data-add")==="1"){return}if(1*bds.comm.isLogin===1){d()}else{bds.se.login.open()}n.preventDefault()})}function d(){if(bds&&bds.se&&bds.se.subscribe){bds.se.subscribe.init({query:bds.comm.query,isResultPage:1,reqSuccess:function(n){if(n.status===200){l(n);
bds.util.showDialog(n.status);if(n.achievement){bds.se.taskTipsDialog.showDialog(n.achievement)}else{if(n.daytask){bds.se.taskTipsDialog.showDialog(n.daytask)}}}else{bds.util.showDialog(500)}},reqError:function(){bds.util.showDialog(500)}})}else{e(d)}}function e(n){$.ajax({url:"//xueshu.baidu.com/lib/static/scholar/cache/subscribe/subscribe_1.1_ada4cc9.js",dataType:"script",success:function(){n&&n()}})}m()})();(function(){var h=$(".sc_download"),c=$("#sc_savelink_wr"),f=$(".sc_savelink_con"),b=$("#sc_md_s"),g=$(".sc_savelink_cls");h.on("click",function(j){_hmt&&_hmt.push(["_trackPageview","/virtual/download"]);if($(this).attr("data-type")!=="2"){return}e($(this));d();j.preventDefault()});b.on("click",function(j){a();return false});g.on("click",function(j){a();j.preventDefault()});function e(C){var p=C.siblings(".sc_savalink_content"),w=p.find(".sc_savelink_item"),z=w.length,n=null,m="",j="",s="",D="",l=0,o=0,r="",x="",k="",B="",t="";for(var y=0;y<z;y++){n=$(w[y]);l=n.attr("data-type")||"";
o=n.attr("data-libbuy");m=n.find(".savesize").text();j=n.find(".saveurl").text();s=n.find(".saveanchor").text();D=n.find(".savefree").text();if(l==="pdf"){k="c-icon-pdf";t="点击下载"}else{k="c-icon-link";t="点击前往"}if(!m){m="未知大小"}if(y===z-1){B="border:none;"}var q="{'title':'"+s+"', 'libbuy':'"+o+"'}";x=['<a href="'+j+'" target="_blank" data-click="'+q+'" class="sc_savelink_item" style="'+B+'">','<span class="savelink_icon"><i class="c-icon '+k+'"></i></span>','<span class="savelink_anchor">'+s+"</span>",'<span class="savelink_free">'+D+"</span>",'<span class="savelink_size">'+m+"</span>",'<span class="savelink_down">'+t+"</span>","</a>"].join("");r+=x}f.html(r)}function d(){var n=0,p=0,o=$(window).height(),l=navigator.userAgent,m=/MSIE (\d+).*/,k=l.match(m);if(k&&parseInt(k[1])<8){n=(o-220)/2}else{n=(o-c.outerHeight())/2}(n>300)&&(n-=100);p=$(window).scrollTop()+Math.max(n,10);c.css({top:p,left:($(document).width()-580)/2,display:"block"});var j=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight);
var q=Math.max(document.body.scrollWidth,document.documentElement.clientWidth,document.body.clientWidth);b.height(j).width(q).show()}function a(){c.hide();b.hide()}})();bds=window.bds||{};bds.se=bds.se||{};(function(){bds.se.paperhelp=function(b){return new a(b)};function a(b){this.opts={paperBtn:null,btnText:"我要求助",paperText:null,btnTextSuc:"查看求助",btnTextFail:"求助失败",susClass:"paperhelped",reqData:{}};this.opts=$.extend(this.opts,b);this.opts.show=0;this.init()}a.prototype={constructor:a,__init__:0,reqUrl:"//xueshu.baidu.com/usercenter/data/paperhelp",weixinReqUrl:"//xueshu.baidu.com/usercenter/data/PaperHelpWeiXin",weixinReqUrl2:"//upload.xueshu.baidu.com/usercenter/data/PaperHelpWeiXin",jumpUrl:"//xueshu.baidu.com/u/paperhelp?tab=my_sos",$paperDialog:null,$bg:null,$paperContentWr:null,reqingHtml:"",cmd:"new_help",weixinHelpTimeout:null,curDialogObj:null,init:function(){if(!this.opts.paperBtn||!this.opts.paperText){return false}if(!this.__init__){a.prototype.__init__=1;this.initDom();this.addEvent();
this.getReqingHtml()}a.prototype.curDialogObj=this;this.getFortune()},initDom:function(){var b=['<div class="paperhelp-dialog">','<a href="javascript:;" class="paperhelp-close-icon paperhelp-close c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<div class="paperhelp-wrapper"></div>',"</div>"].join("");$(b).appendTo($("body"));a.prototype.$paperDialog=$(".paperhelp-dialog");a.prototype.$bg=$("#sc_md_s");a.prototype.$paperContentWr=$(".paperhelp-dialog .paperhelp-wrapper")},addEvent:function(){var b=this.$paperDialog;b.on("click",".paperhelp-submit",function(c){a.prototype.curDialogObj.helpSubmit();c.preventDefault()});b.on("click",".paperhelp-close",function(c){a.prototype.curDialogObj.hideDialog();c.preventDefault()});b.on("click",".close-link",function(c){a.prototype.curDialogObj.hideDialog()});this.$bg.on("click",function(c){a.prototype.curDialogObj.hideDialog()})},req:function(b){var c=this;$.ajax({url:c.reqUrl,dataType:"jsonp",data:b.data,success:function(d){if(d.status===200){b.success&&b.success(d)
}else{b.error&&b.error(d)}},complete:function(e,d){if(d==="timeout"||d==="error"){b.error&&b.error()}}})},helpSubmit:function(b){var c=this;var d=c.opts.reqData;d.cmd=c.cmd;b&&(d.tag_id=b);c.req({data:d,success:function(e){c.helpSuccess(e)},error:function(e){c.helpFail(e)}});if(!b){c.ongoing()}},getFortune:function(){var b=this;$.ajax({url:b.weixinReqUrl,dataType:"jsonp",data:{cmd:"help_method"}}).done(function(c){if(c.status===200){b.showDialog("new-paperhelp",c);b.startWeixinReq()}else{bds.util.showDialog(c.status,"操作失败")}}).fail(function(){bds.util.showDialog(500,"请求超时")})},stopWeixinReq:function(){var b=this;clearTimeout(a.prototype.weixinHelpTimeout)},startWeixinReq:function(){var b=this;if(!this.opts.show){return}a.prototype.weixinHelpTimeout=setTimeout(function(){b.weixinHelpRes()},400)},weixinHelpRes:function(){var c=this;var b=$(".paperhelp-title").attr("data-tagid");$.ajax({url:c.weixinReqUrl2,dataType:"jsonp",data:{cmd:"get_help_status",tag_id:b}}).done(function(d){if(d.status===200){a.prototype.curDialogObj.helpSubmit(b)
}else{if(d.status===-902){c.hideDialog();bds.util.showDialog(500,"操作超时")}else{if(d.status===-903){c.startWeixinReq()}else{if(d.status===-102){c.hideDialog();bds.util.showDialog(500,"您已退出登陆")}}}}}).fail(function(){c.startWeixinReq()})},getDialogHtml:function(g,h){var f="",j="",b="",e="//xueshu.baidu.com";switch(g){case"new-paperhelp":var c=["<h4>求助方法2：</h4>",'<p>需要支付<span class="colorful">5</span>财富值,您目前有<span class="colorful">'+h.fortune+"</span>财富值</p>",'<span class="paperhelp-submit button">确认</span>'].join("");if(h.fortune<5){c=["<h4>求助方法2：</h4>",'<p>需要支付<span class="colorful">5</span>个财富值</p>','<p>您的财富值不足，您目前只有<span class="colorful">'+h.fortune+"</span>财富值</p>",'<p>查看<a href="'+e+'/u/user?cmd=help&tab=fortune#makefortune" target="_blank" class="close-link">如何获取财富值</a></p>'].join("")}j=['<div class="paperhelp-title" data-tagid="'+h.tag_id+'">','<span class="colorful">求助文献</span>',"</div>",'<div class="paperhelp-normal">','您将通过<a href="'+e+'/u/paperhelp" target="_blank">文献互助</a>平台发起求助，成功后即可获取论文全文。',"</div>",'<div class="paperhelp-method-wr">','<div class="method1 method">','<div class="weixintext">',"<h4>求助方法1：</h4>","<p>微信扫描二维码，</p>",'<p>每天可免费求助<span class="colorful">2</span>篇</p>',"</div>",'<img src="'+h.qrcode_url+'" alt="" width="100" height="100" class="weixinimg">',"</div>",'<div class="method2 method">',c,"</div>","</div>"].join("");
b="";break;case"paperhelp-success":var d="";if(h.qrcode_url){d=['<div class="paperhelp-weixin">','<img src="'+h.qrcode_url+'" alt="" width="90" height="90" class="weixinimg">','<div class="weixintext">','<h4><i class="c-icon c-icon-weixin"></i>百度学术</h4>',"<p>微信关注百度学术，随时掌握求助进展！</p>","<p>您求助的文献被应助成功后，微信将及时通知您查看。</p>","</div>","</div>"].join("")}j=['<div class="paperhelp-title">','<span class="colorful">您的求助发布成功！</span>',"</div>",'<div class="paperhelp-normal">','<p>您现在可以去<a class="close-link" href="'+e+'/u/paperhelp?tab=my_sos" target="_blank">我的求助</a>查看进展</p>','<p>您还可以去<a class="close-link" href="'+e+'/u/paperhelp" target="_blank">互助大厅</a>响应他人的求助，赚取财富值!</p>',"</div>",d].join("");b='<span class="paperhelp-close button">确认</span>';break;case"paperhelp-forbidden":j=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>系统检测到您在应助过程中有作弊行为，已取消您的求助权</p>",'<p>详细说明见<a class="close-link" href="'+e+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join("");
b='<span class="paperhelp-close button">确认</span>';break;case"paperhelp-complained":j=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>您已被投诉，已取消您的求助权"+h+"</p>",'<p>详细说明见<a class="close-link" href="'+e+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join("");b='<span class="paperhelp-close button">确认</span>';break;default:break}f=['<div class="paperhelp-content">',j,"</div>"].join("");if(b){f+='<div class="paperhelp-buttons">'+b+"</div>"}return f},getReqingHtml:function(){var e="",d=navigator.userAgent,f=/MSIE (\d+).*/,c=d.match(f),b=0;if(c&&parseInt(c[1])<9){e="求助中..."}else{e=['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join("")}a.prototype.reqingHtml=e},ongoing:function(c){var b=this.reqingHtml;if(c==="fortune"){this.opts.paperText.html(b)}else{this.opts.paperText.html(b);this.$paperDialog.find(".paperhelp-buttons").html(b)}},hideDialog:function(){this.$bg.hide();
this.$paperDialog.hide();this.opts.show=0;this.stopWeixinReq()},showDialog:function(j,e){var b=this.$paperDialog,d=this.$bg;if(b.css("display")!=="none"){return}this.opts.show=1;var g=this.getDialogHtml(j,e);this.$paperContentWr.html(g);var k=($(window).height()-b.outerHeight())/2,c=($(document).width()-b.outerWidth())/2;k=$(window).scrollTop()+Math.max(k,10);b.css({top:k,left:c}).show();var f=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),h=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);d.css({height:f,width:h}).show()},helpSuccess:function(c){var d=this;if(this.opts.show){var b=this.getDialogHtml("paperhelp-success",c);this.$paperContentWr.html(b)}var e=this.opts.btnTextSuc;this.opts.paperText.text(e);this.opts.paperBtn.attr({href:this.jumpUrl,"data-help":"2"});this.opts.paperBtn.addClass(this.opts.susClass);if(c.achievement){bds.se.taskTipsDialog.showDialog(c.achievement)}else{if(c.daytask){bds.se.taskTipsDialog.showDialog(c.daytask)
}}},helpFail:function(c){var d=this.opts.btnTextFail;this.opts.paperText.text(d);if(!this.opts.show){return}if(c&&c.status==-700){var b=this.getDialogHtml("paperhelp-forbidden");this.$paperContentWr.html(b)}else{if(c&&c.status==-704){var b=this.getDialogHtml("paperhelp-complained",c.data.punish);this.$paperContentWr.html(b)}else{if(c&&c.status==-707){this.hideDialog();bds.util.showDialog(500,"不能重复求助")}else{this.hideDialog();bds.util.showDialog(500)}}}}}})();(function(){var e=$(".sc_default_result"),c=$(".sc_allversion .v_morebtn"),b=$("#sc_md_s");c.on("click",function(g){d($(this));g.preventDefault()});b.on("click",function(g){f();return false});$("body").on("click",".sc_allversion_dialog .cls_btn",function(g){f();g.preventDefault()});function d(j){if(!$(".sc_allversion_dialog").length){var h=["<div class=\"sc_allversion_dialog xpath-log\" data-click=\"{'fm':'as'}\">","<h3>全部来源</h3>",'<a href="javascript:;" class="cls_btn c-icon-close-hover">','<i class="c-icon c-icon-close"></i>',"</a>",'<div class="allversion_wr"></div>',"</div>"].join("");
$(h).appendTo($("body"))}var g=$(".sc_allversion_dialog");var k=j.parents(".sc_allversion").find(".v_item_span").clone();g.find(".allversion_wr").html("").append(k);a(g)}function a(h){var p=0,o=0,l=$(window).height(),g=navigator.userAgent,j=/MSIE (\d+).*/,n=g.match(j);p=(l-h.outerHeight())/2;(p>300)&&(p-=100);o=$(window).scrollTop()+Math.max(p,10);h.css({top:o,left:($(document).width()-580)/2,display:"block"});var k=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight);var m=Math.max(document.body.scrollWidth,document.documentElement.clientWidth,document.body.clientWidth);b.height(k).width(m).show()}function f(){if(!$(".sc_allversion_dialog").length){return}$(".sc_allversion_dialog").hide();b.hide()}})();bds.ready(function(){function b(){if(bds.comm.username&&$("#head_wr").width()<=1250&$("#user").width()>72){$("#imsg").hide();$("#setting").hide()}}function a(){if($(window).width()<1300){$("#tnav_l").addClass("hide_leftNav leftNav_s")}else{$("#tnav_l").removeClass("hide_leftNav leftNav_s")
}}b();$("#tnav_l").on("mouseover",function(c){if($(this).hasClass("leftNav_s")){$(this).removeClass("hide_leftNav")}});$("#tnav_l").on("mouseout",function(c){if($(this).hasClass("leftNav_s")){$(this).addClass("hide_leftNav")}});$(window).on("resize",function(){b()})})
/*!
* ZeroClipboard
* The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
* Copyright (c) 2014 Jon Rohan, James M. Greene
* Licensed MIT
* http://zeroclipboard.org/
* v1.3.5
*/
;!function(aO){function aN(b){return b.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function aM(b){return parseFloat(aN(b))>=10}var aL,aK={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},aJ={},aI=0,aH={},aG=0,aF={},aE=null,aD=null,aC=function(){var h,g,m,l,k="ZeroClipboard.swf";if(document.currentScript&&(l=document.currentScript.src)){}else{var j=document.getElementsByTagName("script");if("readyState" in j[0]){for(h=j.length;h--&&("interactive"!==j[h].readyState||!(l=j[h].src));
){}}else{if("loading"===document.readyState){l=j[j.length-1].src}else{for(h=j.length;h--;){if(m=j[h].src,!m){g=null;break}if(m=m.split("#")[0].split("?")[0],m=m.slice(0,m.lastIndexOf("/")+1),null==g){g=m}else{if(g!==m){g=null;break}}}null!==g&&(l=g)}}}return l&&(l=l.split("#")[0].split("?")[0],k=l.slice(0,l.lastIndexOf("/")+1)+k),k}(),aB=function(){var d=/\-([a-z])/g,c=function(f,e){return e.toUpperCase()};return function(a){return a.replace(d,c)}}(),aA=function(a,k){var j,h,g;return aO.getComputedStyle?j=aO.getComputedStyle(a,null).getPropertyValue(k):(h=aB(k),j=a.currentStyle?a.currentStyle[h]:a.style[h]),"cursor"!==k||j&&"auto"!==j||(g=a.tagName.toLowerCase(),"a"!==g)?j:"pointer"},az=function(a){a||(a=aO.event);var d;this!==aO?d=this:a.target?d=a.target:a.srcElement&&(d=a.srcElement),ad.activate(d)},ay=function(e,d,f){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(d,f,!1):e.attachEvent&&e.attachEvent("on"+d,f))},ax=function(e,d,f){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(d,f,!1):e.detachEvent&&e.detachEvent("on"+d,f))
},aw=function(j,h){if(!j||1!==j.nodeType){return j}if(j.classList){return j.classList.contains(h)||j.classList.add(h),j}if(h&&"string"==typeof h){var o=(h||"").split(/\s+/);if(1===j.nodeType){if(j.className){for(var n=" "+j.className+" ",m=j.className,l=0,k=o.length;k>l;l++){n.indexOf(" "+o[l]+" ")<0&&(m+=" "+o[l])}j.className=m.replace(/^\s+|\s+$/g,"")}else{j.className=h}}}return j},av=function(h,g){if(!h||1!==h.nodeType){return h}if(h.classList){return h.classList.contains(g)&&h.classList.remove(g),h}if(g&&"string"==typeof g||void 0===g){var m=(g||"").split(/\s+/);if(1===h.nodeType&&h.className){if(g){for(var l=(" "+h.className+" ").replace(/[\n\t]/g," "),k=0,j=m.length;j>k;k++){l=l.replace(" "+m[k]+" "," ")}h.className=l.replace(/^\s+|\s+$/g,"")}else{h.className=""}}}return h},au=function(){var f,e,h,g=1;return"function"==typeof document.body.getBoundingClientRect&&(f=document.body.getBoundingClientRect(),e=f.right-f.left,h=document.body.offsetWidth,g=Math.round(e/h*100)/100),g},at=function(r,q){var p={left:0,top:0,width:0,height:0,zIndex:am(q)-1};
if(r.getBoundingClientRect){var o,n,m,l=r.getBoundingClientRect();"pageXOffset" in aO&&"pageYOffset" in aO?(o=aO.pageXOffset,n=aO.pageYOffset):(m=au(),o=Math.round(document.documentElement.scrollLeft/m),n=Math.round(document.documentElement.scrollTop/m));var k=document.documentElement.clientLeft||0,a=document.documentElement.clientTop||0;p.left=l.left+o-k,p.top=l.top+n-a,p.width="width" in l?l.width:l.right-l.left,p.height="height" in l?l.height:l.bottom-l.top}return p},ar=function(e,d){var f=null==d||d&&d.cacheBust===!0&&d.useNoCache===!0;return f?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},aq=function(a){var o,n,m,l=[],k=[],j=[];if(a.trustedOrigins&&("string"==typeof a.trustedOrigins?k.push(a.trustedOrigins):"object"==typeof a.trustedOrigins&&"length" in a.trustedOrigins&&(k=k.concat(a.trustedOrigins))),a.trustedDomains&&("string"==typeof a.trustedDomains?k.push(a.trustedDomains):"object"==typeof a.trustedDomains&&"length" in a.trustedDomains&&(k=k.concat(a.trustedDomains))),k.length){for(o=0,n=k.length;
n>o;o++){if(k.hasOwnProperty(o)&&k[o]&&"string"==typeof k[o]){if(m=aj(k[o]),!m){continue}if("*"===m){j=[m];break}j.push.apply(j,[m,"//"+m,aO.location.protocol+"//"+m])}}}return j.length&&l.push("trustedOrigins="+encodeURIComponent(j.join(","))),"string"==typeof a.jsModuleId&&a.jsModuleId&&l.push("jsModuleId="+encodeURIComponent(a.jsModuleId)),l.join("&")},ap=function(g,f,k){if("function"==typeof f.indexOf){return f.indexOf(g,k)}var j,h=f.length;for("undefined"==typeof k?k=0:0>k&&(k=h+k),j=k;h>j;j++){if(f.hasOwnProperty(j)&&f[j]===g){return j}}return -1},ao=function(b){if("string"==typeof b){throw new TypeError("ZeroClipboard doesn't accept query strings.")}return b.length?b:[b]},an=function(a,h,g,f){f?aO.setTimeout(function(){a.apply(h,g)},0):a.apply(h,g)},am=function(e){var d,f;return e&&("number"==typeof e&&e>0?d=e:"string"==typeof e&&(f=parseInt(e,10))&&!isNaN(f)&&f>0&&(d=f)),d||("number"==typeof aa.zIndex&&aa.zIndex>0?d=aa.zIndex:"string"==typeof aa.zIndex&&(f=parseInt(aa.zIndex,10))&&!isNaN(f)&&f>0&&(d=f)),d||0
},al=function(e,d){if(e&&d!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var f="`"+e+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(f):console.log(f)}},ak=function(){var j,h,o,n,m,l,k=arguments[0]||{};for(j=1,h=arguments.length;h>j;j++){if(null!=(o=arguments[j])){for(n in o){if(o.hasOwnProperty(n)){if(m=k[n],l=o[n],k===l){continue}void 0!==l&&(k[n]=l)}}}}return k},aj=function(e){if(null==e||""===e){return null}if(e=e.replace(/^\s+|\s+$/g,""),""===e){return null}var d=e.indexOf("//");e=-1===d?e:e.slice(d+2);var f=e.indexOf("/");return e=-1===f?e:-1===d||0===f?null:e.slice(0,f),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},ai=function(){var d=function(g,f){var k,j,h;if(null!=g&&"*"!==f[0]&&("string"==typeof g&&(g=[g]),"object"==typeof g&&"length" in g)){for(k=0,j=g.length;j>k;k++){if(g.hasOwnProperty(k)&&(h=aj(g[k]))){if("*"===h){f.length=0,f.push("*");
break}-1===ap(h,f)&&f.push(h)}}}},c={always:"always",samedomain:"sameDomain",never:"never"};return function(n,m){var l,k=m.allowScriptAccess;if("string"==typeof k&&(l=k.toLowerCase())&&/^always|samedomain|never$/.test(l)){return c[l]}var j=aj(m.moviePath);null===j&&(j=n);var b=[];d(m.trustedOrigins,b),d(m.trustedDomains,b);var a=b.length;if(a>0){if(1===a&&"*"===b[0]){return"always"}if(-1!==ap(n,b)){return 1===a&&n===j?"sameDomain":"always"}}return"never"}}(),ah=function(e){if(null==e){return[]}if(Object.keys){return Object.keys(e)}var d=[];for(var f in e){e.hasOwnProperty(f)&&d.push(f)}return d},ag=function(d){if(d){for(var c in d){d.hasOwnProperty(c)&&delete d[c]}}return d},af=function(){try{return document.activeElement}catch(b){}return null},ae=function(){var d=!1;if("boolean"==typeof aK.disabled){d=aK.disabled===!1}else{if("function"==typeof ActiveXObject){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(d=!0)}catch(c){}}!d&&navigator.mimeTypes["application/x-shockwave-flash"]&&(d=!0)
}return d},ad=function(d,c){return this instanceof ad?(this.id=""+aI++,aH[this.id]={instance:this,elements:[],handlers:{}},d&&this.clip(d),"undefined"!=typeof c&&(al("new ZeroClipboard(elements, options)",aa.debug),ad.config(c)),this.options=ad.config(),"boolean"!=typeof aK.disabled&&(aK.disabled=!ae()),aK.disabled===!1&&aK.outdated!==!0&&null===aK.bridge&&(aK.outdated=!1,aK.ready=!1,Z()),void 0):new ad(d,c)};ad.prototype.setText=function(b){return b&&""!==b&&(aJ["text/plain"]=b,aK.ready===!0&&aK.bridge&&"function"==typeof aK.bridge.setText?aK.bridge.setText(b):aK.ready=!1),this},ad.prototype.setSize=function(d,c){return aK.ready===!0&&aK.bridge&&"function"==typeof aK.bridge.setSize?aK.bridge.setSize(d,c):aK.ready=!1,this};var ac=function(b){aK.ready===!0&&aK.bridge&&"function"==typeof aK.bridge.setHandCursor?aK.bridge.setHandCursor(b):aK.ready=!1};ad.prototype.destroy=function(){this.unclip(),this.off(),delete aH[this.id]};var ab=function(){var g,f,k,j=[],h=ah(aH);for(g=0,f=h.length;f>g;
g++){k=aH[h[g]].instance,k&&k instanceof ad&&j.push(k)}return j};ad.version="1.3.5";var aa={swfPath:aC,trustedDomains:aO.location.host?[aO.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};ad.config=function(e){"object"==typeof e&&null!==e&&ak(aa,e);if("string"!=typeof e||!e){var d={};for(var f in aa){aa.hasOwnProperty(f)&&(d[f]="object"==typeof aa[f]&&null!==aa[f]?"length" in aa[f]?aa[f].slice(0):ak({},aa[f]):aa[f])}return d}if(aa.hasOwnProperty(e)){return aa[e]}},ad.destroy=function(){ad.deactivate();for(var e in aH){if(aH.hasOwnProperty(e)&&aH[e]){var d=aH[e].instance;d&&"function"==typeof d.destroy&&d.destroy()}}var f=Y(aK.bridge);f&&f.parentNode&&(f.parentNode.removeChild(f),aK.ready=null,aK.bridge=null)},ad.activate=function(e){aL&&(av(aL,aa.hoverClass),av(aL,aa.activeClass)),aL=e,aw(e,aa.hoverClass),X();var d=aa.title||e.getAttribute("title");if(d){var h=Y(aK.bridge);h&&h.setAttribute("title",d)}var g=aa.forceHandCursor===!0||"pointer"===aA(e,"cursor");
ac(g)},ad.deactivate=function(){var b=Y(aK.bridge);b&&(b.style.left="0px",b.style.top="-9999px",b.removeAttribute("title")),aL&&(av(aL,aa.hoverClass),av(aL,aa.activeClass),aL=null)};var Z=function(){var a,p,o=document.getElementById("global-zeroclipboard-html-bridge");if(!o){var n=ad.config();n.jsModuleId="string"==typeof aE&&aE||"string"==typeof aD&&aD||null;var m=ai(aO.location.host,aa),l=aq(n),k=aa.moviePath+ar(aa.moviePath,aa),e='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+k+'"/>         <param name="allowScriptAccess" value="'+m+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+l+'"/>         <embed src="'+k+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+m+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+l+'"           scale="exactfit">         </embed>       </object>';
o=document.createElement("div"),o.id="global-zeroclipboard-html-bridge",o.setAttribute("class","global-zeroclipboard-container"),o.style.position="absolute",o.style.left="0px",o.style.top="-9999px",o.style.width="15px",o.style.height="15px",o.style.zIndex=""+am(aa.zIndex),document.body.appendChild(o),o.innerHTML=e}a=document["global-zeroclipboard-flash-bridge"],a&&(p=a.length)&&(a=a[p-1]),aK.bridge=a||o.children[0].lastElementChild},Y=function(e){for(var d=/^OBJECT|EMBED$/,f=e&&e.parentNode;f&&d.test(f.nodeName)&&f.parentNode;){f=f.parentNode}return f||null},X=function(){if(aL){var d=at(aL,aa.zIndex),c=Y(aK.bridge);c&&(c.style.top=d.top+"px",c.style.left=d.left+"px",c.style.width=d.width+"px",c.style.height=d.height+"px",c.style.zIndex=d.zIndex+1),aK.ready===!0&&aK.bridge&&"function"==typeof aK.bridge.setSize?aK.bridge.setSize(d.width,d.height):aK.ready=!1}return this};ad.prototype.on=function(h,e){var n,m,l,k={},j=aH[this.id]&&aH[this.id].handlers;if("string"==typeof h&&h){l=h.toLowerCase().split(/\s+/)
}else{if("object"==typeof h&&h&&"undefined"==typeof e){for(n in h){h.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof h[n]&&this.on(n,h[n])}}}if(l&&l.length){for(n=0,m=l.length;m>n;n++){h=l[n].replace(/^on/,""),k[h]=!0,j[h]||(j[h]=[]),j[h].push(e)}k.noflash&&aK.disabled&&U.call(this,"noflash",{}),k.wrongflash&&aK.outdated&&U.call(this,"wrongflash",{flashVersion:aK.version}),k.load&&aK.ready&&U.call(this,"load",{flashVersion:aK.version})}return this},ad.prototype.off=function(j,h){var p,o,n,m,l,k=aH[this.id]&&aH[this.id].handlers;if(0===arguments.length){m=ah(k)}else{if("string"==typeof j&&j){m=j.split(/\s+/)}else{if("object"==typeof j&&j&&"undefined"==typeof h){for(p in j){j.hasOwnProperty(p)&&"string"==typeof p&&p&&"function"==typeof j[p]&&this.off(p,j[p])}}}}if(m&&m.length){for(p=0,o=m.length;o>p;p++){if(j=m[p].toLowerCase().replace(/^on/,""),l=k[j],l&&l.length){if(h){for(n=ap(h,l);-1!==n;){l.splice(n,1),n=ap(h,l,n)}}else{k[j].length=0}}}}return this},ad.prototype.handlers=function(f){var e,h=null,g=aH[this.id]&&aH[this.id].handlers;
if(g){if("string"==typeof f&&f){return g[f]?g[f].slice(0):null}h={};for(e in g){g.hasOwnProperty(e)&&g[e]&&(h[e]=g[e].slice(0))}}return h};var W=function(r,q,p,o){var n=aH[this.id]&&aH[this.id].handlers[r];if(n&&n.length){var m,l,h,a=q||this;for(m=0,l=n.length;l>m;m++){h=n[m],q=a,"string"==typeof h&&"function"==typeof aO[h]&&(h=aO[h]),"object"==typeof h&&h&&"function"==typeof h.handleEvent&&(q=h,h=h.handleEvent),"function"==typeof h&&an(h,q,p,o)}}return this};ad.prototype.clip=function(e){e=ao(e);for(var d=0;d<e.length;d++){if(e.hasOwnProperty(d)&&e[d]&&1===e[d].nodeType){e[d].zcClippingId?-1===ap(this.id,aF[e[d].zcClippingId])&&aF[e[d].zcClippingId].push(this.id):(e[d].zcClippingId="zcClippingId_"+aG++,aF[e[d].zcClippingId]=[this.id],aa.autoActivate===!0&&ay(e[d],"mouseover",az));var f=aH[this.id].elements;-1===ap(e[d],f)&&f.push(e[d])}}return this},ad.prototype.unclip=function(h){var g=aH[this.id];if(g){var m,l=g.elements;h="undefined"==typeof h?l.slice(0):ao(h);for(var k=h.length;k--;
){if(h.hasOwnProperty(k)&&h[k]&&1===h[k].nodeType){for(m=0;-1!==(m=ap(h[k],l,m));){l.splice(m,1)}var j=aF[h[k].zcClippingId];if(j){for(m=0;-1!==(m=ap(this.id,j,m));){j.splice(m,1)}0===j.length&&(aa.autoActivate===!0&&ax(h[k],"mouseover",az),delete h[k].zcClippingId)}}}}return this},ad.prototype.elements=function(){var b=aH[this.id];return b&&b.elements?b.elements.slice(0):[]};var V=function(j){var h,o,n,m,l,k=[];if(j&&1===j.nodeType&&(h=j.zcClippingId)&&aF.hasOwnProperty(h)&&(o=aF[h],o&&o.length)){for(n=0,m=o.length;m>n;n++){l=aH[o[n]].instance,l&&l instanceof ad&&k.push(l)}}return k};aa.hoverClass="zeroclipboard-is-hover",aa.activeClass="zeroclipboard-is-active",aa.trustedOrigins=null,aa.allowScriptAccess=null,aa.useNoCache=!0,aa.moviePath="ZeroClipboard.swf",ad.detectFlashSupport=function(){return al("ZeroClipboard.detectFlashSupport",aa.debug),ae()},ad.dispatch=function(h,d){if("string"==typeof h&&h){var m=h.toLowerCase().replace(/^on/,"");if(m){for(var l=aL&&aa.autoActivate===!0?V(aL):ab(),k=0,j=l.length;
j>k;k++){U.call(l[k],m,d)}}}},ad.prototype.setHandCursor=function(b){return al("ZeroClipboard.prototype.setHandCursor",aa.debug),b="boolean"==typeof b?b:!!b,ac(b),aa.forceHandCursor=b,this},ad.prototype.reposition=function(){return al("ZeroClipboard.prototype.reposition",aa.debug),X()},ad.prototype.receiveEvent=function(e,d){if(al("ZeroClipboard.prototype.receiveEvent",aa.debug),"string"==typeof e&&e){var f=e.toLowerCase().replace(/^on/,"");f&&U.call(this,f,d)}},ad.prototype.setCurrent=function(b){return al("ZeroClipboard.prototype.setCurrent",aa.debug),ad.activate(b),this},ad.prototype.resetBridge=function(){return al("ZeroClipboard.prototype.resetBridge",aa.debug),ad.deactivate(),this},ad.prototype.setTitle=function(d){if(al("ZeroClipboard.prototype.setTitle",aa.debug),d=d||aa.title||aL&&aL.getAttribute("title")){var c=Y(aK.bridge);c&&c.setAttribute("title",d)}return this},ad.setDefaults=function(b){al("ZeroClipboard.setDefaults",aa.debug),ad.config(b)},ad.prototype.addEventListener=function(d,c){return al("ZeroClipboard.prototype.addEventListener",aa.debug),this.on(d,c)
},ad.prototype.removeEventListener=function(d,c){return al("ZeroClipboard.prototype.removeEventListener",aa.debug),this.off(d,c)},ad.prototype.ready=function(){return al("ZeroClipboard.prototype.ready",aa.debug),aK.ready===!0};var U=function(x,w){x=x.toLowerCase().replace(/^on/,"");var t=w&&w.flashVersion&&aN(w.flashVersion)||null,s=aL,r=!0;switch(x){case"load":if(t){if(!aM(t)){return U.call(this,"onWrongFlash",{flashVersion:t}),void 0}aK.outdated=!1,aK.ready=!0,aK.version=t}break;case"wrongflash":t&&!aM(t)&&(aK.outdated=!0,aK.ready=!1,aK.version=t);break;case"mouseover":aw(s,aa.hoverClass);break;case"mouseout":aa.autoActivate===!0&&ad.deactivate();break;case"mousedown":aw(s,aa.activeClass);break;case"mouseup":av(s,aa.activeClass);break;case"datarequested":if(s){var q=s.getAttribute("data-clipboard-target"),f=q?document.getElementById(q):null;if(f){var e=f.value||f.textContent||f.innerText;e&&this.setText(e)}else{var d=s.getAttribute("data-clipboard-text");d&&this.setText(d)}}r=!1;break;
case"complete":ag(aJ),s&&s!==af()&&s.focus&&s.focus()}var c=s,b=[this,w];return W.call(this,x,c,b,r)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,d,f){return aE=f&&f.id||null,ad}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports&&"function"==typeof aO.require?(aD=module.id||null,module.exports=ad):aO.ZeroClipboard=ad}(function(){return this}());(function(){if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get){var a=bds.util.domain.get("http://a.xueshu.baidu.com/usercenter/data/retpagebatch")}else{var a="http://a.xueshu.baidu.com/usercenter/data/retpagebatch"}var w=null,m=null,o=null,n=false,e={top:0,left:0};function r(){s();l();j()}function s(){A.use("scrollbarv",function(){w=A.ui.scrollbarv({content:$(".batch-file-list").get(0)})});var B=null,E=null;A.use("dropdown21",function(){m=A.ui.dropdown21($(".format-dropdown").get(0),{onchange:function(F){g(F.item.value);ns_c_xs({button_tp:"batchformat-"+F.item.value,fm:"beha"})
},onopen:function(){ns_c_xs({button_tp:"batchformatshow",fm:"beha"})}});o=A.ui.dropdown21($(".export-dropdown").get(0),{onchange:function(F){ns_c_xs({button_tp:"batchexport-"+F.item.value,fm:"beha"})},onopen:function(){ns_c_xs({button_tp:"batchexportshow",fm:"beha"})}});$(".format-dropdown .c-dropdown2-menu").height($(".format-dropdown .c-dropdown2-menu").outerHeight()-$(".format-dropdown .c-dropdown2-option").height());$(".export-dropdown .c-dropdown2-menu").height($(".export-dropdown .c-dropdown2-menu").outerHeight()-$(".export-dropdown .c-dropdown2-option").height()+5);$(".export-dropdown .c-dropdown2-btn-group,.export-dropdown .c-dropdown2-menu").on("mouseenter",function(F){clearTimeout(E);if($(".export-dropdown .c-dropdown2-menu").css("visibility")=="hidden"){B=setTimeout(function(){o.open()},500)}});$(".export-dropdown .c-dropdown2-btn-group,.export-dropdown .c-dropdown2-menu").on("mouseleave",function(F){clearTimeout(B);if($(".export-dropdown .c-dropdown2-menu").css("visibility")!="hidden"){E=setTimeout(function(){o.close()
},500)}})});try{var C=new ZeroClipboard($(".batch-file-controller-copy"),{moviePath:"http://s1.bdstatic.com/r/www/cache/mid/static/zeroclip/ZeroClipboard1.3.5_a8f4ee51.swf"});C.on("load",function(F){F.on("dataRequested",function(G){var H="";$(".batch-file-list-container .batch-file-list-item").each(function(I,J){if($(J).find(".sc_title").length){if(I!=0){H+="\n\n"}H+=$.trim($(J).find(".sc_title").text())+"\n";H+=$.trim($(J).find(".sc_info").text())+"\n";H+=$.trim($(J).find(".sc_abstract").text())+"\n";H+=$.trim($(J).find(".sc_keywords").text())+"\n"}else{H+=$.trim($(J).text())+"\n"}});F.setText(H)});F.on("complete",function(G,H){c();if(H.text!=""){bds.util.showDialog(200,"复制成功",e);ns_c_xs({button_tp:"batchcopybtn",fm:"beha"})}})})}catch(D){}}function h(){}function c(){e={top:$(".batch-file-container").position().top+$(window).scrollTop()+$(".batch-file-container").height()/2,left:$(".batch-file-container").position().left+$(window).scrollLeft()+$(".batch-file-container").width()/2}}function l(){var B=bds.se.cookie.get("SC_BATCH");
var C=[];if(!B){$(".batch-btn-tip").fadeIn(300)}$(".reqdata").each(function(){C.push($(this).attr("urlmd"))});$.ajax({url:a,dataType:"jsonp",data:{cmd:"check_folder",url_md5:C.join(",")}}).done(function(D){if(D.status==200&&D.ret_data.total_num>0){z(D.ret_data.total_num);$.each(C,function(E,F){if($.inArray(F,D.ret_data.exists_md5)>-1){$(".sc_batch").eq(E).attr({"data-added":1,"data-nolog":1});$(".sc_batch").eq(E).addClass("batched").attr("title","已添加")}})}}).fail(function(){}).always(function(){})}function g(B){if(B=="Default"){B=""}$.ajax({url:a,dataType:"jsonp",data:{cmd:"get_folder_detail",cite_format:B}}).done(function(D){if(D.status==200){var C=t(D.htmldata);$(".batch-file-list ul").html(C);w.render()}}).fail(function(){}).always(function(){if($(".batch-file-list-item-li").length!=$(".batch-file-header span").text()){z($(".batch-file-list-item-li").length)}if($(".batch-file-list-container .batch-file-list-item-li").length<=0){if(bds.comm.isdetailpage){$(".batch-file-list-container").addClass("empty").append('<div class="batch-file-list-container-empty"><h3>文件夹为空</h3><p>请点击文献名下方的“批量引用”<br/>导出文献到此文件夹，体验批量处理功能。</p></div>')
}else{$(".batch-file-list-container").addClass("empty").append('<div class="batch-file-list-container-empty"><h3>文件夹为空</h3><p>请点击文献右下侧的“批量引用”<br/>导出文献到此文件夹，体验批量处理功能。</p></div>')}}else{$(".batch-file-list-container").removeClass("empty");$(".batch-file-list-container .batch-file-list-container-empty").remove()}})}function t(B){B=B.replace(/#\{scUrlComponent\}/g,("&tn="+bds.comm.tn+"&ie=utf8"+(bds.comm.scAsPara?"&sc_as_para="+bds.comm.scAsPara:"")+(bds.comm.scFrom?"&sc_from="+bds.comm.scFrom:"")));B=B.replace(/#i\{/g,"<i>");B=B.replace(/\}/g,"</i>");return B}function j(){x();k();p()}function b(){h();$(".batch-file-container").show().css({filter:"alpha(opacity=1)","-moz-opacity":"1",opacity:"1",transform:"translateY(0)","-webkit-transform":"translateY(0)","-ms-transform":"translateY(0)","-mos-transform":"translateY(0)"}).addClass("ie8hack");$(".batch-btn").hide();g("");if(!$.fn.hasOwnProperty("printArea")){$.getScript("http://s1.bdstatic.com/r/www/cache/mid/static/jquery/jquery.printarea_a0a782c6.js")
}m.setIndex(0);o.setIndex(0);n=true;var B=bds.se.cookie.get("SC_BATCH");if(B&&B==1&&B!=3){$(".batch-file-mask").show().on("click",function(C){C.preventDefault();$(this).fadeOut();bds.se.cookie.set("SC_BATCH",3,{expires:365*24*60*60*1000})})}}function d(){var B=$(".batch-file-container");if(B.offset().top+B.height()>=$(window).height()+$(window).scrollTop()){B.css({transform:"translateY(450px)","-webkit-transform":"translateY(450px)","-ms-transform":"translateY(450px)","-mos-transform":"translateY(450px)"}).removeClass("ie8hack")}else{B.css({filter:"alpha(opacity=0)","-moz-opacity":"0",opacity:"0"}).removeClass("ie8hack");setTimeout(function(){B.hide()},300)}$(".batch-btn").show();n=false}function f(B){if(B.parents("#dtl_l").length){return B.parents("#dtl_l").eq(0)}else{if(B.parents(".result").length){return B.parents(".result").eq(0)}else{return null}}}function x(){$(document).on("click",".batch-btn",function(E){b();$(".batch-btn-tip").hide();var D=bds.se.cookie.get("SC_BATCH");if(!D){bds.se.cookie.set("SC_BATCH",3,{expires:365*24*60*60*1000})
}ns_c_xs({fm:"beha",button_tp:"batch_btn"});_hmt&&_hmt.push(["_trackPageview","/virtual/batch"])});$(document).on("click",".batch-file-header .batch-file-close",function(D){d()});$(document).on("click",function(D){if($(D.target).parents(".batch-container").length<=0&&!$(D.target).hasClass("sc_batch")&&$(D.target).parents(".sc_batch").length<=0&&$(D.target).parents("#global-zeroclipboard-flash-bridge").length<=0){d()}});$(".export-dropdown .c-dropdown2-menu a").on("click",function(D){if($(".batch-file-list-container").find(".batch-file-list-item-li").length==0){D.preventDefault()}});$(document).on("click",".batch-file-item-delete",function(E){var D=$(this);$.ajax({url:a,dataType:"jsonp",data:{cmd:"delete_article",url:D.attr("data-url")}}).done(function(F){if(F.status==200){D.parents(".batch-file-list-item-li").animate({left:-650},350,function(){D.parents(".batch-file-list-item-li").remove();z(-1)});$(".reqdata[urlmd="+F.urlmd5+"]").parent().find(".sc_batch").removeAttr("data-added data-nolog").removeClass("batched");
ns_c_xs({button_tp:"batchdelete",fm:"beha"})}})});$(document).on("click",".batch-file-list-item .sc_title",function(D){ns_c_xs({button_tp:"batchtitle",fm:"beha"})});$(".batch-file-controller-clear").on("click",function(D){D.preventDefault();$.ajax({url:a,dataType:"jsonp",data:{cmd:"delete_folder"}}).done(function(E){if(E.status==200){$(".batch-file-list ul").empty();z(0);$(".sc_batch").removeAttr("data-added data-nolog").removeClass("batched");ns_c_xs({button_tp:"batchclear",fm:"beha"})}})});var C=null,B=null;$(".batch-file-controller-mail").on("click",function(D){D.preventDefault();clearTimeout(B);q()});$(".batch-file-controller-mail").on("mouseover",function(D){D.preventDefault();clearTimeout(B);C=setTimeout(function(){q()},1000)});$(".batch-file-controller-mail").on("mouseout",function(D){D.preventDefault();clearTimeout(C);B=setTimeout(function(){y()},1000)});$(".batch-file-controller-mail-inputbox").on("mouseover",function(D){clearTimeout(B)});$(".batch-file-controller-mail-inputbox").on("mouseout",function(D){clearTimeout(C);
B=setTimeout(function(){y()},1000)});$(".batch-file-controller-mail-submit").on("click",function(G){G.preventDefault();if($(".batch-file-list-container .batch-file-list-item").length<=0){return}var F=$.trim($(".batch-file-controller-mail-input").val());var E=m.getValue();var D="&tn="+bds.comm.tn+"&ie=utf8"+(bds.comm.sc_as_para?"&sc_as_para="+bds.comm.sc_as_para:"")+(bds.comm.sc_from?"&sc_from="+bds.comm.sc_from:"");if(E=="Default"){E=""}c();if(F){$.ajax({url:a,dataType:"jsonp",data:{cmd:"export_email",email:F,cite_format:E,scUrlComponent:D}}).done(function(H){if(H.status==200){ns_c_xs({button_tp:"batchemailsucess",fm:"beha"});bds.util.showDialog(H.status,"发送成功",e);y()}else{if(H.status==-101){bds.util.showDialog(H.status,"邮箱格式错误",e)}else{if(H.status==-104){bds.util.showDialog(H.status,"批量引用无文件可发送",e)}else{if(H.status==-105){bds.util.showDialog(H.status,"今日发送邮件数已达上限",e)}else{bds.util.showDialog(H.status,"发送失败，请稍后重试",e)}}}}}).fail(function(){bds.util.showDialog(500,"发送失败，请稍后重试",e)}).always(function(){ns_c_xs({button_tp:"batchemailsend",fm:"beha"})
})}});$(".batch-file-controller-printer").on("click",function(D){D.preventDefault();if($(".batch-file-list-container .batch-file-list-item").length<=0){return}if($.fn.hasOwnProperty("printArea")){$(".batch-file-list-container").printArea();ns_c_xs({button_tp:"batchprint",fm:"beha"})}});$(".batch-file-controller-collect").on("click",function(E){var D=$(this);if(D.attr("collected")){}else{E.preventDefault();c();if(!bds.comm.username){bds.se.login.open();return}else{if(!$(".batch-file-list .batch-file-list-item-li").length){return}}$.ajax({url:a,dataType:"jsonp",data:{cmd:"collect"}}).done(function(F){if(F.status==200){bds.util.showDialog(200,"收藏成功",e);D.attr("collected",1).html("我的收藏");ns_c_xs({button_tp:"batchcollected",fm:"beha"})}})}})}function q(){$(".batch-file-controller-mail-inputbox").show()}function y(){$(".batch-file-controller-mail-inputbox").hide()}function k(){$(document).on("click",".sc_batch",function(D){var C=$(this);D.preventDefault();if(C.attr("data-added")){return}var E=f($(this));
var B=E.find(".reqdata");if(B&&B.attr("url")&&B.attr("diversion")){$.ajax({url:a,dataType:"jsonp",data:{cmd:"add_article",url:B.attr("url"),di_version:B.attr("diversion")}}).done(function(F){if(F.status==200){C.attr({"data-added":1,"data-nolog":1});C.addClass("batched").attr("title","已添加");z()}else{if(F.status==-1211){bds.util.showDialog(F.status,"批量引用达到上限")}else{bds.util.showDialog(F.status,"添加失败")}}})}})}function z(B){$(".batch-btn").addClass("active");setTimeout(function(){$(".batch-btn").removeClass("active")},1000);if(B>=0){}else{if(B<0){B=parseInt($(".batch-container .batch-btn span").text())-1}else{B=parseInt($(".batch-container .batch-btn span").text())+1;$(".batch-file-controller-collect").removeAttr("collected").html("一键收藏")}}$(".batch-container .batch-btn span,.batch-container .batch-file-header span").html(B);if(n){g(m.getValue())}}function p(){var H=false;var G="0";var E="0";var F="0";var D="0";var C=G-F;var B=E-D;$(document).mousemove(function(I){G=I.pageX;E=I.pageY;F=$(".batch-file-container").offset().left;
D=$(".batch-file-container").offset().top;if(!H){C=G-F;B=E-D}else{var K=I.pageX-C-$(window).scrollLeft();var J=I.pageY-B-$(window).scrollTop();$(".batch-file-container").css({top:Math.min(Math.max(J,$("#head_wr").height()),$(window).height()-$(".batch-file-container").height()),left:Math.min(Math.max(K,$("#tnav_l").width()),$(window).width()-$(".batch-file-container").width())})}});$(".batch-file-header").mousedown(function(I){H=true});$(document).mouseup(function(I){H=false})}r()})();bds.se.indexBanner=function(){var m=bds.comm.topBannerInfo;if(!m.startDate||!m.endDate){return}var e=new Date(),d=new Date(m.startDate),h=new Date(m.endDate);if(e<d||e>h){return}var k="SC_HOMEEGG",l=bds.se.cookie.get(k);l=l?JSON.parse(l):{};if(l.id!=m.id){delete l.close;l.id=m.id}if(l.close){return}var b=bds.comm.topBannerInfo.width,j=bds.comm.topBannerInfo.height;var a=[".index_topbanner{position:absolute;top:110px;right:28px;z-index:400;width:"+b+"px;height:"+j+"px;background:url("+m.imgUrl+") 0 0 no-repeat}",".index_topbanner .logo_wr{height:100%;display:block;width:100%;}",".index_topbanner .banner_close{display:inline-block;position:absolute;right:0;top:0;width:20px;height:20px;z-index:20;cursor:pointer;color:#000;font-size:12px;}"].join("");
var g=['<div class="index_topbanner">',(m.jumpUrl?'<a href="'+m.jumpUrl+'" target="blank" class="logo_wr"></a>':""),'<span class="iconfont banner_close">&#xe609;</span>',"</div>"].join("");$(".content_wr,#content_right,#dtl_r").append($("<style>"+a+"</style>")).append($(g));var f=$(".index_topbanner"),c=f.find(".banner_close");if(!bds.comm.ishome){f.css({position:"relative",top:0,left:0})}c.on("click",function(n){l.close=1;bds.se.cookie.set(k,JSON.stringify(l),{expires:30*24*60*60*1000});f.hide();n.preventDefault()})};bds.se.indexBanner();bds.doReady();(function(){$("#left_menu_content").on({mouseenter:function(a){$("#wrapper").addClass("leftNavOn")},mouseleave:function(a){$("#wrapper").removeClass("leftNavOn")}})})();window.scr_rec=function(){var a="";try{a+=[document.body.clientWidth,document.body.clientHeight,window.screenTop,window.screenLeft,window.screen.width,window.screen.height].join("_")}catch(b){}return a};var rsv_scr=scr_rec();if(!bds.comm.isdetailpage){ns_c_xs({fm:"se",rsv_scr:rsv_scr,rs_nu:$(".sc_default_result").length,rsv_trans_show:bds.comm.isTransShow})
}else{ns_c_xs({fm:"se",rsv_scr:rsv_scr,rsv_trans_show:bds.comm.isTransShow})}bds.se.quote.init({needLog:1,logFuc:function(a){ns_c_xs({fm:"beha",title:a})},eventBtnClass:".sc_q",eventFn:function(d){var c=d.attr("data-link"),b=d.parents(".sc_default_result,#dtl_l").find(".reqdata").attr("diversion"),a=d.attr("data-sign");bds.se.quote.show({sign:a,diversion:b,url:c})}});